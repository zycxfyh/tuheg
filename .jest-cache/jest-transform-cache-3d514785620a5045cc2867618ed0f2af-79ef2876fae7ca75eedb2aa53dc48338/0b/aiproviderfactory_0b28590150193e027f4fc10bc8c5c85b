4d7044ba8e9dbeedd8c623ef7b75985c
"use strict";
// 文件路径: libs/common/src/ai/ai-provider.factory.ts
Object.defineProperty(exports, "__esModule", { value: true });
exports.AiProviderFactory = void 0;
const custom_openai_compatible_provider_1 = require("./providers/custom-openai-compatible.provider");
class AiProviderFactory {
    createProvider(config) {
        // [注释] 我们将所有兼容OpenAI API的供应商，都导向同一条“生产线”
        switch (config.provider) {
            case 'OpenAI':
            case 'Anthropic':
            case 'Google':
            case 'xAI':
            case 'Mistral':
            case 'TogetherAI':
            case 'OpenRouter':
            case 'NVIDIA':
            case 'DeepSeek':
            case 'Groq':
            case 'Zhipu':
            case 'Baichuan':
            case 'Moonshot':
            case 'SiliconFlow':
            case 'Volcengine':
            case 'Tencent':
            case 'Aliyun':
            case 'Ollama':
            case 'CustomOpenAICompatible':
                return new custom_openai_compatible_provider_1.CustomOpenAICompatibleProvider(config.apiKey, config.modelId, config.baseUrl ?? null);
            default:
                throw new Error(`Unsupported AI provider type: "${config.provider}". Please check the configuration.`);
        }
    }
}
exports.AiProviderFactory = AiProviderFactory;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiQzpcXFVzZXJzXFwxNjY2M1xcRGVza3RvcFxcdHVoZWdcXHBhY2thZ2VzXFxjb21tb24tYmFja2VuZFxcc3JjXFxhaVxcYWktcHJvdmlkZXIuZmFjdG9yeS50cyIsIm1hcHBpbmdzIjoiO0FBQUEsa0RBQWtEOzs7QUFPbEQscUdBQThGO0FBQzlGLE1BQWEsaUJBQWlCO0lBQ3JCLGNBQWMsQ0FBQyxNQUF1QjtRQUMzQyx5Q0FBeUM7UUFDekMsUUFBUSxNQUFNLENBQUMsUUFBUSxFQUFFLENBQUM7WUFDeEIsS0FBSyxRQUFRLENBQUM7WUFDZCxLQUFLLFdBQVcsQ0FBQztZQUNqQixLQUFLLFFBQVEsQ0FBQztZQUNkLEtBQUssS0FBSyxDQUFDO1lBQ1gsS0FBSyxTQUFTLENBQUM7WUFDZixLQUFLLFlBQVksQ0FBQztZQUNsQixLQUFLLFlBQVksQ0FBQztZQUNsQixLQUFLLFFBQVEsQ0FBQztZQUNkLEtBQUssVUFBVSxDQUFDO1lBQ2hCLEtBQUssTUFBTSxDQUFDO1lBQ1osS0FBSyxPQUFPLENBQUM7WUFDYixLQUFLLFVBQVUsQ0FBQztZQUNoQixLQUFLLFVBQVUsQ0FBQztZQUNoQixLQUFLLGFBQWEsQ0FBQztZQUNuQixLQUFLLFlBQVksQ0FBQztZQUNsQixLQUFLLFNBQVMsQ0FBQztZQUNmLEtBQUssUUFBUSxDQUFDO1lBQ2QsS0FBSyxRQUFRLENBQUM7WUFDZCxLQUFLLHdCQUF3QjtnQkFDM0IsT0FBTyxJQUFJLGtFQUE4QixDQUN2QyxNQUFNLENBQUMsTUFBTSxFQUNiLE1BQU0sQ0FBQyxPQUFPLEVBQ2QsTUFBTSxDQUFDLE9BQU8sSUFBSSxJQUFJLENBQ3ZCLENBQUE7WUFFSDtnQkFDRSxNQUFNLElBQUksS0FBSyxDQUNiLGtDQUFrQyxNQUFNLENBQUMsUUFBUSxvQ0FBb0MsQ0FDdEYsQ0FBQTtRQUNMLENBQUM7SUFDSCxDQUFDO0NBQ0Y7QUFuQ0QsOENBbUNDIiwibmFtZXMiOltdLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcMTY2NjNcXERlc2t0b3BcXHR1aGVnXFxwYWNrYWdlc1xcY29tbW9uLWJhY2tlbmRcXHNyY1xcYWlcXGFpLXByb3ZpZGVyLmZhY3RvcnkudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8g5paH5Lu26Lev5b6EOiBsaWJzL2NvbW1vbi9zcmMvYWkvYWktcHJvdmlkZXIuZmFjdG9yeS50c1xuXG5pbXBvcnQgdHlwZSB7IEFpQ29uZmlndXJhdGlvbiB9IGZyb20gJ0BwcmlzbWEvY2xpZW50J1xuXG4vLyBb5qC45b+D5L+u5q2jXSDmlL7lvIPmiYDmnInnm7jlr7not6/lvoTvvIznu5/kuIDkvb/nlKggQHR1aGVnL2NvbW1vbi1iYWNrZW5kIOe7neWvuei3r+W+hOWIq+WQjVxuLy8g5oiR5Lus5LuOIEB0dWhlZy9jb21tb24tYmFja2VuZCDnmoTmgLvlh7rlj6MgKGluZGV4LnRzKSDkuIDmrKHmgKflr7zlhaXmiYDmnInpnIDopoHnmoTlt6XlhbflkoznsbvlnotcbmltcG9ydCB0eXBlIHsgQWlQcm92aWRlciB9IGZyb20gJy4uL3R5cGVzL2FpLXByb3ZpZGVycy50eXBlcydcbmltcG9ydCB7IEN1c3RvbU9wZW5BSUNvbXBhdGlibGVQcm92aWRlciB9IGZyb20gJy4vcHJvdmlkZXJzL2N1c3RvbS1vcGVuYWktY29tcGF0aWJsZS5wcm92aWRlcidcbmV4cG9ydCBjbGFzcyBBaVByb3ZpZGVyRmFjdG9yeSB7XG4gIHB1YmxpYyBjcmVhdGVQcm92aWRlcihjb25maWc6IEFpQ29uZmlndXJhdGlvbik6IEFpUHJvdmlkZXIge1xuICAgIC8vIFvms6jph4pdIOaIkeS7rOWwhuaJgOacieWFvOWuuU9wZW5BSSBBUEnnmoTkvpvlupTllYbvvIzpg73lr7zlkJHlkIzkuIDmnaHigJznlJ/kuqfnur/igJ1cbiAgICBzd2l0Y2ggKGNvbmZpZy5wcm92aWRlcikge1xuICAgICAgY2FzZSAnT3BlbkFJJzpcbiAgICAgIGNhc2UgJ0FudGhyb3BpYyc6XG4gICAgICBjYXNlICdHb29nbGUnOlxuICAgICAgY2FzZSAneEFJJzpcbiAgICAgIGNhc2UgJ01pc3RyYWwnOlxuICAgICAgY2FzZSAnVG9nZXRoZXJBSSc6XG4gICAgICBjYXNlICdPcGVuUm91dGVyJzpcbiAgICAgIGNhc2UgJ05WSURJQSc6XG4gICAgICBjYXNlICdEZWVwU2Vlayc6XG4gICAgICBjYXNlICdHcm9xJzpcbiAgICAgIGNhc2UgJ1poaXB1JzpcbiAgICAgIGNhc2UgJ0JhaWNodWFuJzpcbiAgICAgIGNhc2UgJ01vb25zaG90JzpcbiAgICAgIGNhc2UgJ1NpbGljb25GbG93JzpcbiAgICAgIGNhc2UgJ1ZvbGNlbmdpbmUnOlxuICAgICAgY2FzZSAnVGVuY2VudCc6XG4gICAgICBjYXNlICdBbGl5dW4nOlxuICAgICAgY2FzZSAnT2xsYW1hJzpcbiAgICAgIGNhc2UgJ0N1c3RvbU9wZW5BSUNvbXBhdGlibGUnOlxuICAgICAgICByZXR1cm4gbmV3IEN1c3RvbU9wZW5BSUNvbXBhdGlibGVQcm92aWRlcihcbiAgICAgICAgICBjb25maWcuYXBpS2V5LFxuICAgICAgICAgIGNvbmZpZy5tb2RlbElkLFxuICAgICAgICAgIGNvbmZpZy5iYXNlVXJsID8/IG51bGxcbiAgICAgICAgKVxuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgYFVuc3VwcG9ydGVkIEFJIHByb3ZpZGVyIHR5cGU6IFwiJHtjb25maWcucHJvdmlkZXJ9XCIuIFBsZWFzZSBjaGVjayB0aGUgY29uZmlndXJhdGlvbi5gXG4gICAgICAgIClcbiAgICB9XG4gIH1cbn1cbiJdLCJ2ZXJzaW9uIjozfQ==