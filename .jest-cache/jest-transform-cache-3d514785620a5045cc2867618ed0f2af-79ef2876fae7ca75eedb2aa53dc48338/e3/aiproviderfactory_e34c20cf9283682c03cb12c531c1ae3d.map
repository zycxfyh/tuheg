{"file":"C:\\Users\\16663\\Desktop\\tuheg\\packages\\common-backend\\src\\ai\\ai-provider.factory.ts","mappings":";AAAA,kDAAkD;;;AAOlD,qGAA8F;AAC9F,MAAa,iBAAiB;IACrB,cAAc,CAAC,MAAuB;QAC3C,yCAAyC;QACzC,QAAQ,MAAM,CAAC,QAAQ,EAAE,CAAC;YACxB,KAAK,QAAQ,CAAC;YACd,KAAK,WAAW,CAAC;YACjB,KAAK,QAAQ,CAAC;YACd,KAAK,KAAK,CAAC;YACX,KAAK,SAAS,CAAC;YACf,KAAK,YAAY,CAAC;YAClB,KAAK,YAAY,CAAC;YAClB,KAAK,QAAQ,CAAC;YACd,KAAK,UAAU,CAAC;YAChB,KAAK,MAAM,CAAC;YACZ,KAAK,OAAO,CAAC;YACb,KAAK,UAAU,CAAC;YAChB,KAAK,UAAU,CAAC;YAChB,KAAK,aAAa,CAAC;YACnB,KAAK,YAAY,CAAC;YAClB,KAAK,SAAS,CAAC;YACf,KAAK,QAAQ,CAAC;YACd,KAAK,QAAQ,CAAC;YACd,KAAK,wBAAwB;gBAC3B,OAAO,IAAI,kEAA8B,CACvC,MAAM,CAAC,MAAM,EACb,MAAM,CAAC,OAAO,EACd,MAAM,CAAC,OAAO,IAAI,IAAI,CACvB,CAAA;YAEH;gBACE,MAAM,IAAI,KAAK,CACb,kCAAkC,MAAM,CAAC,QAAQ,oCAAoC,CACtF,CAAA;QACL,CAAC;IACH,CAAC;CACF;AAnCD,8CAmCC","names":[],"sources":["C:\\Users\\16663\\Desktop\\tuheg\\packages\\common-backend\\src\\ai\\ai-provider.factory.ts"],"sourcesContent":["// 文件路径: libs/common/src/ai/ai-provider.factory.ts\n\nimport type { AiConfiguration } from '@prisma/client'\n\n// [核心修正] 放弃所有相对路径，统一使用 @tuheg/common-backend 绝对路径别名\n// 我们从 @tuheg/common-backend 的总出口 (index.ts) 一次性导入所有需要的工具和类型\nimport type { AiProvider } from '../types/ai-providers.types'\nimport { CustomOpenAICompatibleProvider } from './providers/custom-openai-compatible.provider'\nexport class AiProviderFactory {\n  public createProvider(config: AiConfiguration): AiProvider {\n    // [注释] 我们将所有兼容OpenAI API的供应商，都导向同一条“生产线”\n    switch (config.provider) {\n      case 'OpenAI':\n      case 'Anthropic':\n      case 'Google':\n      case 'xAI':\n      case 'Mistral':\n      case 'TogetherAI':\n      case 'OpenRouter':\n      case 'NVIDIA':\n      case 'DeepSeek':\n      case 'Groq':\n      case 'Zhipu':\n      case 'Baichuan':\n      case 'Moonshot':\n      case 'SiliconFlow':\n      case 'Volcengine':\n      case 'Tencent':\n      case 'Aliyun':\n      case 'Ollama':\n      case 'CustomOpenAICompatible':\n        return new CustomOpenAICompatibleProvider(\n          config.apiKey,\n          config.modelId,\n          config.baseUrl ?? null\n        )\n\n      default:\n        throw new Error(\n          `Unsupported AI provider type: \"${config.provider}\". Please check the configuration.`\n        )\n    }\n  }\n}\n"],"version":3}