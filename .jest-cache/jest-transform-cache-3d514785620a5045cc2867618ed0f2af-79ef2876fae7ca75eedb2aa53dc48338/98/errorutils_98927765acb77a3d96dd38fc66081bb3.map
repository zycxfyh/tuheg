{"file":"C:\\Users\\16663\\Desktop\\tuheg\\packages\\common-backend\\src\\utils\\error-utils.ts","mappings":";AAAA,yDAAyD;AACzD,6BAA6B;;AAmB7B,0CAwBC;AAQD,sCAKC;AASD,sCAKC;AApED;;;;;;;;;;;;;;;;GAgBG;AACH,SAAgB,eAAe,CAC7B,KAAc,EACd,cAAc,GAAG,2BAA2B;IAE5C,4BAA4B;IAC5B,IAAI,KAAK,YAAY,KAAK,EAAE,CAAC;QAC3B,OAAO,KAAK,CAAC,OAAO,CAAA;IACtB,CAAC;IAED,cAAc;IACd,IAAI,OAAO,KAAK,KAAK,QAAQ,EAAE,CAAC;QAC9B,OAAO,KAAK,CAAA;IACd,CAAC;IAED,qBAAqB;IACrB,IAAI,KAAK,IAAI,OAAO,KAAK,KAAK,QAAQ,IAAI,SAAS,IAAI,KAAK,EAAE,CAAC;QAC7D,MAAM,OAAO,GAAI,KAA8B,CAAC,OAAO,CAAA;QACvD,IAAI,OAAO,OAAO,KAAK,QAAQ,EAAE,CAAC;YAChC,OAAO,OAAO,CAAA;QAChB,CAAC;IACH,CAAC;IAED,aAAa;IACb,OAAO,cAAc,CAAA;AACvB,CAAC;AAED;;;;;GAKG;AACH,SAAgB,aAAa,CAAC,KAAc;IAC1C,IAAI,KAAK,YAAY,KAAK,EAAE,CAAC;QAC3B,OAAO,KAAK,CAAC,KAAK,CAAA;IACpB,CAAC;IACD,OAAO,SAAS,CAAA;AAClB,CAAC;AAED;;;;;;GAMG;AACH,SAAgB,aAAa,CAC3B,KAAc,EACd,UAAqC;IAErC,OAAO,KAAK,YAAY,UAAU,CAAA;AACpC,CAAC","names":[],"sources":["C:\\Users\\16663\\Desktop\\tuheg\\packages\\common-backend\\src\\utils\\error-utils.ts"],"sourcesContent":["// 文件路径: packages/common-backend/src/utils/error-utils.ts\n// 描述: 错误处理工具函数，提供统一的错误消息提取逻辑\n\n/**\n * 从未知类型的错误对象中提取错误消息\n *\n * @param error - 未知类型的错误对象\n * @param defaultMessage - 默认错误消息（当无法提取消息时使用）\n * @returns 错误消息字符串\n *\n * @example\n * ```typescript\n * try {\n *   throw new Error('Something went wrong')\n * } catch (error) {\n *   const message = getErrorMessage(error, 'Unknown error')\n *   console.log(message) // 'Something went wrong'\n * }\n * ```\n */\nexport function getErrorMessage(\n  error: unknown,\n  defaultMessage = 'An unknown error occurred'\n): string {\n  // 如果是 Error 实例，直接返回 message\n  if (error instanceof Error) {\n    return error.message\n  }\n\n  // 如果是字符串，直接返回\n  if (typeof error === 'string') {\n    return error\n  }\n\n  // 如果是对象且有 message 属性\n  if (error && typeof error === 'object' && 'message' in error) {\n    const message = (error as { message: unknown }).message\n    if (typeof message === 'string') {\n      return message\n    }\n  }\n\n  // 其他情况返回默认消息\n  return defaultMessage\n}\n\n/**\n * 从未知类型的错误对象中提取堆栈跟踪\n *\n * @param error - 未知类型的错误对象\n * @returns 堆栈跟踪字符串或 undefined\n */\nexport function getErrorStack(error: unknown): string | undefined {\n  if (error instanceof Error) {\n    return error.stack\n  }\n  return undefined\n}\n\n/**\n * 检查错误是否为特定类型\n *\n * @param error - 未知类型的错误对象\n * @param errorClass - 错误类的构造函数\n * @returns 是否为指定类型的错误\n */\nexport function isErrorOfType<T extends Error>(\n  error: unknown,\n  errorClass: new (...args: any[]) => T\n): error is T {\n  return error instanceof errorClass\n}\n"],"version":3}