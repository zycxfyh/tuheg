e5c9ce60b1441a79d1348e771ce27d13
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.narrativeRenderingPayloadSchema = exports.gameActionJobDataSchema = exports.gameCreationPayloadSchema = void 0;
const zod_1 = require("zod");
const submit_action_dto_1 = require("../dto/submit-action.dto");
const state_change_directive_dto_1 = require("./state-change-directive.dto");
exports.gameCreationPayloadSchema = zod_1.z.object({
    userId: zod_1.z.string().min(1, 'UserId must not be empty'),
    concept: zod_1.z
        .string()
        .min(10, 'Concept must be at least 10 characters long')
        .max(500, 'Concept must be 500 characters or less'),
});
exports.gameActionJobDataSchema = zod_1.z.object({
    gameId: zod_1.z.string().uuid('GameId must be a valid UUID'),
    userId: zod_1.z.string().min(1, 'UserId must not be empty'),
    playerAction: submit_action_dto_1.submitActionSchema,
    gameStateSnapshot: zod_1.z.object({
        id: zod_1.z.string(),
        name: zod_1.z.string(),
        ownerId: zod_1.z.string(),
        createdAt: zod_1.z.union([zod_1.z.date(), zod_1.z.string()]),
        updatedAt: zod_1.z.union([zod_1.z.date(), zod_1.z.string()]),
        character: zod_1.z
            .object({
            id: zod_1.z.string(),
            gameId: zod_1.z.string(),
            name: zod_1.z.string(),
            card: zod_1.z.unknown(),
            createdAt: zod_1.z.union([zod_1.z.date(), zod_1.z.string()]),
            updatedAt: zod_1.z.union([zod_1.z.date(), zod_1.z.string()]),
        })
            .nullable()
            .optional(),
        worldBook: zod_1.z
            .array(zod_1.z.object({
            id: zod_1.z.string(),
            gameId: zod_1.z.string(),
            key: zod_1.z.string(),
            content: zod_1.z.unknown(),
            createdAt: zod_1.z.union([zod_1.z.date(), zod_1.z.string()]),
            updatedAt: zod_1.z.union([zod_1.z.date(), zod_1.z.string()]),
        }))
            .optional(),
    }),
    correlationId: zod_1.z.string().optional(),
});
exports.narrativeRenderingPayloadSchema = zod_1.z.object({
    gameId: zod_1.z.string().uuid('GameId must be a valid UUID'),
    userId: zod_1.z.string().min(1, 'UserId must not be empty'),
    playerAction: submit_action_dto_1.submitActionSchema,
    executedDirectives: state_change_directive_dto_1.directiveSetSchema,
    correlationId: zod_1.z.string().min(1, 'CorrelationId must not be empty'),
});
//# sourceMappingURL=queue-message-schemas.js.map