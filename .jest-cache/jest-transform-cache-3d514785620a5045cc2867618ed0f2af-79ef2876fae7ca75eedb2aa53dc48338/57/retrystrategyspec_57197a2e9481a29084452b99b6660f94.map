{"file":"C:\\Users\\16663\\Desktop\\tuheg\\packages\\ai-domain\\src\\ai\\__tests__\\retry-strategy.spec.ts","mappings":"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","names":[],"sources":["C:\\Users\\16663\\Desktop\\tuheg\\packages\\ai-domain\\src\\ai\\__tests__\\retry-strategy.spec.ts"],"sourcesContent":["import { z } from 'zod'\nimport {\n  calculateRetryDelay,\n  classifyError,\n  DEFAULT_RETRY_CONFIG,\n  delay,\n  ErrorCategory,\n  getRecommendedDelay,\n} from '../retry-strategy'\n\ndescribe('retry-strategy', () => {\n  describe('classifyError', () => {\n    it('should classify network errors as retryable', () => {\n      const error = new Error('ECONNREFUSED')\n      const classification = classifyError(error)\n      expect(classification.category).toBe(ErrorCategory.NETWORK)\n      expect(classification.shouldRetry).toBe(true)\n    })\n\n    it('should classify timeout errors as retryable', () => {\n      const error = new Error('ETIMEDOUT')\n      const classification = classifyError(error)\n      expect(classification.category).toBe(ErrorCategory.NETWORK)\n      expect(classification.shouldRetry).toBe(true)\n    })\n\n    it('should classify 429 rate limit errors as retryable', () => {\n      const error = Object.assign(new Error('Rate limit exceeded'), {\n        status: 429,\n      })\n      const classification = classifyError(error)\n      expect(classification.category).toBe(ErrorCategory.TEMPORARY_API_ERROR)\n      expect(classification.shouldRetry).toBe(true)\n    })\n\n    it('should classify 503 errors as retryable', () => {\n      const error = Object.assign(new Error('Service unavailable'), {\n        statusCode: 503,\n      })\n      const classification = classifyError(error)\n      expect(classification.category).toBe(ErrorCategory.TEMPORARY_API_ERROR)\n      expect(classification.shouldRetry).toBe(true)\n    })\n\n    it('should classify 401/403 errors as non-retryable', () => {\n      const error401 = Object.assign(new Error('Unauthorized'), {\n        status: 401,\n      })\n      const classification401 = classifyError(error401)\n      expect(classification401.category).toBe(ErrorCategory.AUTHENTICATION_ERROR)\n      expect(classification401.shouldRetry).toBe(false)\n\n      const error403 = Object.assign(new Error('Forbidden'), { status: 403 })\n      const classification403 = classifyError(error403)\n      expect(classification403.category).toBe(ErrorCategory.AUTHENTICATION_ERROR)\n      expect(classification403.shouldRetry).toBe(false)\n    })\n\n    it('should classify 400 errors as non-retryable', () => {\n      const error = Object.assign(new Error('Bad request'), { status: 400 })\n      const classification = classifyError(error)\n      expect(classification.category).toBe(ErrorCategory.INVALID_REQUEST)\n      expect(classification.shouldRetry).toBe(false)\n    })\n\n    it('should classify Zod validation errors as retryable with feedback', () => {\n      const schema = z.object({ name: z.string() })\n      const result = schema.safeParse({})\n      expect(result.success).toBe(false)\n\n      if (!result.success) {\n        const classification = classifyError(result.error, 'Field name is required')\n        expect(classification.category).toBe(ErrorCategory.VALIDATION_ERROR)\n        expect(classification.shouldRetry).toBe(true)\n        expect(classification.hasFeedback).toBe(true)\n        expect(classification.feedback).toBeDefined()\n      }\n    })\n\n    it('should classify JSON parse errors as retryable', () => {\n      const error = new SyntaxError('Unexpected token in JSON')\n      const classification = classifyError(error)\n      expect(classification.category).toBe(ErrorCategory.JSON_PARSE_ERROR)\n      expect(classification.shouldRetry).toBe(true)\n    })\n\n    it('should classify unknown errors as retryable (conservative)', () => {\n      const error = new Error('Some unknown error')\n      const classification = classifyError(error)\n      expect(classification.category).toBe(ErrorCategory.UNKNOWN)\n      expect(classification.shouldRetry).toBe(true)\n    })\n  })\n\n  describe('calculateRetryDelay', () => {\n    it('should calculate exponential backoff', () => {\n      const config = { ...DEFAULT_RETRY_CONFIG, enableJitter: false }\n\n      expect(calculateRetryDelay(0, config)).toBe(500) // 500 * 2^0\n      expect(calculateRetryDelay(1, config)).toBe(1000) // 500 * 2^1\n      expect(calculateRetryDelay(2, config)).toBe(2000) // 500 * 2^2\n      expect(calculateRetryDelay(3, config)).toBe(4000) // 500 * 2^3\n    })\n\n    it('should cap delay at maxDelayMs', () => {\n      const config = {\n        ...DEFAULT_RETRY_CONFIG,\n        maxDelayMs: 1000,\n        enableJitter: false,\n      }\n\n      expect(calculateRetryDelay(0, config)).toBe(500)\n      expect(calculateRetryDelay(1, config)).toBe(1000)\n      expect(calculateRetryDelay(10, config)).toBe(1000) // Capped\n    })\n\n    it('should apply jitter when enabled', () => {\n      const config = { ...DEFAULT_RETRY_CONFIG, enableJitter: true }\n      const delayMs = calculateRetryDelay(1, config)\n\n      // Jitter should add randomness (though exact values are random)\n      expect(delayMs).toBeGreaterThan(0)\n      expect(delayMs).toBeLessThanOrEqual(1200) // 1000 * 1.2 (max with 20% jitter)\n\n      // Verify multiple calls produce different values (due to jitter)\n      const delays = Array.from({ length: 5 }, () => calculateRetryDelay(1, config))\n      const uniqueDelays = new Set(delays)\n      // At least some values should be different (jitter adds randomness)\n      expect(uniqueDelays.size).toBeGreaterThan(1)\n    })\n\n    it('should never return negative delay', () => {\n      const config = { ...DEFAULT_RETRY_CONFIG, enableJitter: true }\n\n      for (let i = 0; i < 10; i++) {\n        const delayMs = calculateRetryDelay(i, config)\n        expect(delayMs).toBeGreaterThanOrEqual(0)\n      }\n    })\n  })\n\n  describe('getRecommendedDelay', () => {\n    it('should use longer delay for rate limit errors', () => {\n      const rateLimitDelay = getRecommendedDelay(\n        ErrorCategory.TEMPORARY_API_ERROR,\n        0,\n        DEFAULT_RETRY_CONFIG\n      )\n      const networkDelay = getRecommendedDelay(ErrorCategory.NETWORK, 0, DEFAULT_RETRY_CONFIG)\n\n      // Rate limit should have longer initial delay (2000 vs 500)\n      expect(rateLimitDelay).toBeGreaterThan(networkDelay)\n    })\n\n    it('should use shorter delay for validation errors', () => {\n      const validationDelay = getRecommendedDelay(\n        ErrorCategory.VALIDATION_ERROR,\n        0,\n        DEFAULT_RETRY_CONFIG\n      )\n      const networkDelay = getRecommendedDelay(ErrorCategory.NETWORK, 0, DEFAULT_RETRY_CONFIG)\n\n      // Validation errors should have shorter delay (200 vs 500)\n      expect(validationDelay).toBeLessThan(networkDelay)\n    })\n\n    it('should use standard delay for network errors', () => {\n      const delayMs = getRecommendedDelay(ErrorCategory.NETWORK, 0, DEFAULT_RETRY_CONFIG)\n\n      // With jitter enabled, delay can range from 400ms to 600ms (Â±20% of 500ms)\n      expect(delayMs).toBeGreaterThanOrEqual(400)\n      expect(delayMs).toBeLessThanOrEqual(600)\n    })\n  })\n\n  describe('delay', () => {\n    it('should delay for specified milliseconds', async () => {\n      const start = Date.now()\n      await delay(100)\n      const elapsed = Date.now() - start\n\n      // Should be at least 100ms (may be slightly more due to scheduling)\n      expect(elapsed).toBeGreaterThanOrEqual(90)\n      expect(elapsed).toBeLessThan(150) // Allow some overhead\n    })\n  })\n})\n"],"version":3}