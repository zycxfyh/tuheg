{"file":"C:\\Users\\16663\\Desktop\\tuheg\\packages\\common-backend\\src\\dto\\create-ai-settings.dto.ts","mappings":";;;AAAA,4EAA4E;AAC5E,6BAAuB;AAEV,QAAA,gBAAgB,GAAG;IAC9B,UAAU;IACV,UAAU;IACV,QAAQ;IACR,MAAM;IACN,QAAQ;IACR,wBAAwB;CAChB,CAAA;AAEG,QAAA,cAAc,GAAG,OAAC,CAAC,IAAI,CAAC,wBAAgB,EAAE;IACrD,OAAO,EAAE,iFAAiF;CAC3F,CAAC,CAAA;AAEW,QAAA,YAAY,GAAG,OAAC;KAC1B,MAAM,EAAE;KACR,IAAI,EAAE;KACN,GAAG,CAAC,EAAE,EAAE,EAAE,OAAO,EAAE,8CAA8C,EAAE,CAAC;KACpE,GAAG,CAAC,GAAG,EAAE,EAAE,OAAO,EAAE,0CAA0C,EAAE,CAAC;KACjE,KAAK,CAAC,wBAAwB,EAAE;IAC/B,OAAO,EAAE,sCAAsC;CAChD,CAAC,CAAA;AAES,QAAA,aAAa,GAAG,OAAC;KAC3B,MAAM,EAAE;KACR,IAAI,EAAE;KACN,GAAG,CAAC,CAAC,EAAE,EAAE,OAAO,EAAE,uBAAuB,EAAE,CAAC;KAC5C,GAAG,CAAC,GAAG,EAAE,EAAE,OAAO,EAAE,2CAA2C,EAAE,CAAC;KAClE,KAAK,CAAC,sBAAsB,EAAE;IAC7B,OAAO,EAAE,uCAAuC;CACjD,CAAC,CAAA;AAES,QAAA,cAAc,GAAG,OAAC;KAC5B,MAAM,EAAE;KACR,IAAI,EAAE;KACN,GAAG,CAAC,CAAC,EAAE,EAAE,OAAO,EAAE,4BAA4B,EAAE,CAAC;KACjD,GAAG,CAAC,EAAE,EAAE,EAAE,OAAO,EAAE,2CAA2C,EAAE,CAAC;KACjE,KAAK,CAAC,mBAAmB,EAAE;IAC1B,OAAO,EAAE,4EAA4E;CACtF,CAAC,CAAA;AAES,QAAA,aAAa,GAAG,OAAC;KAC3B,MAAM,EAAE;KACR,IAAI,EAAE;KACN,GAAG,CAAC,EAAE,OAAO,EAAE,+BAA+B,EAAE,CAAC;KACjD,GAAG,CAAC,GAAG,EAAE,EAAE,OAAO,EAAE,2CAA2C,EAAE,CAAC,CAAA;AAExD,QAAA,sBAAsB,GAAG,OAAC,CAAC,MAAM,CAAC;IAC7C,QAAQ,EAAE,sBAAc;IACxB,MAAM,EAAE,oBAAY;IACpB,OAAO,EAAE,qBAAa;IACtB,OAAO,EAAE,qBAAa,CAAC,QAAQ,EAAE,CAAC,QAAQ,EAAE;IAC5C,KAAK,EAAE,OAAC;SACL,KAAK,CAAC,sBAAc,CAAC;SACrB,GAAG,CAAC,EAAE,EAAE;QACP,OAAO,EAAE,2DAA2D;KACrE,CAAC;SACD,QAAQ,EAAE;CACd,CAAC,CAAA","names":[],"sources":["C:\\Users\\16663\\Desktop\\tuheg\\packages\\common-backend\\src\\dto\\create-ai-settings.dto.ts"],"sourcesContent":["// apps/backend/apps/nexus-engine/src/settings/dto/create-ai-settings.dto.ts\nimport { z } from 'zod'\n\nexport const allowedProviders = [\n  'DeepSeek',\n  'Moonshot',\n  'OpenAI',\n  'Groq',\n  'Ollama',\n  'CustomOpenAICompatible',\n] as const\n\nexport const providerSchema = z.enum(allowedProviders, {\n  message: 'Unsupported provider. Please select a known provider or CustomOpenAICompatible.',\n})\n\nexport const apiKeySchema = z\n  .string()\n  .trim()\n  .min(16, { message: 'API key must be at least 16 characters long.' })\n  .max(200, { message: 'API key must be 200 characters or fewer.' })\n  .regex(/^[A-Za-z0-9_\\-.+=:/]+$/, {\n    message: 'API key contains invalid characters.',\n  })\n\nexport const modelIdSchema = z\n  .string()\n  .trim()\n  .min(1, { message: 'Model ID is required.' })\n  .max(120, { message: 'Model ID must be 120 characters or fewer.' })\n  .regex(/^[A-Za-z0-9._\\-:/]+$/, {\n    message: 'Model ID contains invalid characters.',\n  })\n\nexport const roleNameSchema = z\n  .string()\n  .trim()\n  .min(1, { message: 'Role name cannot be empty.' })\n  .max(40, { message: 'Role name must be 40 characters or fewer.' })\n  .regex(/^[A-Za-z0-9:_-]+$/, {\n    message: 'Role name can only include letters, numbers, colon, underscore, or hyphen.',\n  })\n\nexport const baseUrlSchema = z\n  .string()\n  .trim()\n  .url({ message: 'Base URL must be a valid URL.' })\n  .max(300, { message: 'Base URL must be 300 characters or fewer.' })\n\nexport const createAiSettingsSchema = z.object({\n  provider: providerSchema,\n  apiKey: apiKeySchema,\n  modelId: modelIdSchema,\n  baseUrl: baseUrlSchema.optional().nullable(),\n  roles: z\n    .array(roleNameSchema)\n    .max(20, {\n      message: 'No more than 20 roles can be assigned to a configuration.',\n    })\n    .optional(),\n})\n\nexport type CreateAiSettingsDto = z.infer<typeof createAiSettingsSchema>\n"],"version":3}