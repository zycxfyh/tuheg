840d9bf79342fdd8d730e772be637a2c
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.testAiConnectionSchema = exports.updateAiSettingsSchema = void 0;
// apps/backend/apps/nexus-engine/src/settings/dto/update-ai-settings.dto.ts
const zod_1 = require("zod");
const create_ai_settings_dto_1 = require("./create-ai-settings.dto");
exports.updateAiSettingsSchema = zod_1.z.object({
    provider: create_ai_settings_dto_1.providerSchema.optional(),
    apiKey: create_ai_settings_dto_1.apiKeySchema.optional(),
    modelId: create_ai_settings_dto_1.modelIdSchema.optional(),
    baseUrl: create_ai_settings_dto_1.baseUrlSchema.optional().nullable(),
    roles: zod_1.z
        .array(create_ai_settings_dto_1.roleNameSchema)
        .max(20, {
        message: 'No more than 20 roles can be assigned to a configuration.',
    })
        .optional(),
});
exports.testAiConnectionSchema = zod_1.z.object({
    provider: create_ai_settings_dto_1.providerSchema,
    apiKey: create_ai_settings_dto_1.apiKeySchema,
    baseUrl: create_ai_settings_dto_1.baseUrlSchema.optional().nullable(),
    // modelId 可以可选，用于特定 provider 的探测
    modelId: create_ai_settings_dto_1.modelIdSchema.optional(),
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiQzpcXFVzZXJzXFwxNjY2M1xcRGVza3RvcFxcdHVoZWdcXHBhY2thZ2VzXFxjb21tb24tYmFja2VuZFxcc3JjXFxkdG9cXHVwZGF0ZS1haS1zZXR0aW5ncy5kdG8udHMiLCJtYXBwaW5ncyI6Ijs7O0FBQUEsNEVBQTRFO0FBQzVFLDZCQUF1QjtBQUN2QixxRUFNaUM7QUFFcEIsUUFBQSxzQkFBc0IsR0FBRyxPQUFDLENBQUMsTUFBTSxDQUFDO0lBQzdDLFFBQVEsRUFBRSx1Q0FBYyxDQUFDLFFBQVEsRUFBRTtJQUNuQyxNQUFNLEVBQUUscUNBQVksQ0FBQyxRQUFRLEVBQUU7SUFDL0IsT0FBTyxFQUFFLHNDQUFhLENBQUMsUUFBUSxFQUFFO0lBQ2pDLE9BQU8sRUFBRSxzQ0FBYSxDQUFDLFFBQVEsRUFBRSxDQUFDLFFBQVEsRUFBRTtJQUM1QyxLQUFLLEVBQUUsT0FBQztTQUNMLEtBQUssQ0FBQyx1Q0FBYyxDQUFDO1NBQ3JCLEdBQUcsQ0FBQyxFQUFFLEVBQUU7UUFDUCxPQUFPLEVBQUUsMkRBQTJEO0tBQ3JFLENBQUM7U0FDRCxRQUFRLEVBQUU7Q0FDZCxDQUFDLENBQUE7QUFFVyxRQUFBLHNCQUFzQixHQUFHLE9BQUMsQ0FBQyxNQUFNLENBQUM7SUFDN0MsUUFBUSxFQUFFLHVDQUFjO0lBQ3hCLE1BQU0sRUFBRSxxQ0FBWTtJQUNwQixPQUFPLEVBQUUsc0NBQWEsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxRQUFRLEVBQUU7SUFDNUMsaUNBQWlDO0lBQ2pDLE9BQU8sRUFBRSxzQ0FBYSxDQUFDLFFBQVEsRUFBRTtDQUNsQyxDQUFDLENBQUEiLCJuYW1lcyI6W10sInNvdXJjZXMiOlsiQzpcXFVzZXJzXFwxNjY2M1xcRGVza3RvcFxcdHVoZWdcXHBhY2thZ2VzXFxjb21tb24tYmFja2VuZFxcc3JjXFxkdG9cXHVwZGF0ZS1haS1zZXR0aW5ncy5kdG8udHMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gYXBwcy9iYWNrZW5kL2FwcHMvbmV4dXMtZW5naW5lL3NyYy9zZXR0aW5ncy9kdG8vdXBkYXRlLWFpLXNldHRpbmdzLmR0by50c1xuaW1wb3J0IHsgeiB9IGZyb20gJ3pvZCdcbmltcG9ydCB7XG4gIGFwaUtleVNjaGVtYSxcbiAgYmFzZVVybFNjaGVtYSxcbiAgbW9kZWxJZFNjaGVtYSxcbiAgcHJvdmlkZXJTY2hlbWEsXG4gIHJvbGVOYW1lU2NoZW1hLFxufSBmcm9tICcuL2NyZWF0ZS1haS1zZXR0aW5ncy5kdG8nXG5cbmV4cG9ydCBjb25zdCB1cGRhdGVBaVNldHRpbmdzU2NoZW1hID0gei5vYmplY3Qoe1xuICBwcm92aWRlcjogcHJvdmlkZXJTY2hlbWEub3B0aW9uYWwoKSxcbiAgYXBpS2V5OiBhcGlLZXlTY2hlbWEub3B0aW9uYWwoKSxcbiAgbW9kZWxJZDogbW9kZWxJZFNjaGVtYS5vcHRpb25hbCgpLFxuICBiYXNlVXJsOiBiYXNlVXJsU2NoZW1hLm9wdGlvbmFsKCkubnVsbGFibGUoKSxcbiAgcm9sZXM6IHpcbiAgICAuYXJyYXkocm9sZU5hbWVTY2hlbWEpXG4gICAgLm1heCgyMCwge1xuICAgICAgbWVzc2FnZTogJ05vIG1vcmUgdGhhbiAyMCByb2xlcyBjYW4gYmUgYXNzaWduZWQgdG8gYSBjb25maWd1cmF0aW9uLicsXG4gICAgfSlcbiAgICAub3B0aW9uYWwoKSxcbn0pXG5cbmV4cG9ydCBjb25zdCB0ZXN0QWlDb25uZWN0aW9uU2NoZW1hID0gei5vYmplY3Qoe1xuICBwcm92aWRlcjogcHJvdmlkZXJTY2hlbWEsXG4gIGFwaUtleTogYXBpS2V5U2NoZW1hLFxuICBiYXNlVXJsOiBiYXNlVXJsU2NoZW1hLm9wdGlvbmFsKCkubnVsbGFibGUoKSxcbiAgLy8gbW9kZWxJZCDlj6/ku6Xlj6/pgInvvIznlKjkuo7nibnlrpogcHJvdmlkZXIg55qE5o6i5rWLXG4gIG1vZGVsSWQ6IG1vZGVsSWRTY2hlbWEub3B0aW9uYWwoKSxcbn0pXG5cbmV4cG9ydCB0eXBlIFVwZGF0ZUFpU2V0dGluZ3NEdG8gPSB6LmluZmVyPHR5cGVvZiB1cGRhdGVBaVNldHRpbmdzU2NoZW1hPlxuZXhwb3J0IHR5cGUgVGVzdEFpQ29ubmVjdGlvbkR0byA9IHouaW5mZXI8dHlwZW9mIHRlc3RBaUNvbm5lY3Rpb25TY2hlbWE+XG4iXSwidmVyc2lvbiI6M30=