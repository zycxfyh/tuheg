# ğŸ§ª æµ‹è¯•ä¸è´¨é‡ä¿è¯æ“ä½œæŒ‡å—

> ğŸ“– **å‚è€ƒæ¥æº**: æœ¬æŒ‡å—å‚è€ƒäº†GitHubã€Microsoftã€Googleç­‰é¡¶çº§å¼€æºé¡¹ç›®çš„å·¥ç¨‹å®è·µï¼Œç»“åˆ"åˆ›ä¸–æ˜Ÿç¯"é¡¹ç›®çš„å·¥ä¸šåŒ–æµ‹è¯•ç†å¿µï¼Œæ‰“é€ ä¼ä¸šçº§è´¨é‡ä¿è¯ä½“ç³»ã€‚

## ğŸ“‹ æ¦‚è¿°

æœ¬æŒ‡å—æä¾›äº†"åˆ›ä¸–æ˜Ÿç¯"é¡¹ç›®çš„å®Œæ•´æµ‹è¯•å’Œè´¨é‡ä¿è¯æµç¨‹ï¼ŒåŸºäºå·¥ä¸šåŒ–æµ‹è¯•ç†å¿µï¼Œå®ç°äº†ä»ä»£ç æäº¤åˆ°ç”Ÿäº§éƒ¨ç½²çš„å…¨æµç¨‹è‡ªåŠ¨åŒ–éªŒè¯ã€‚

### ğŸ¯ æ ¸å¿ƒåŸåˆ™

éµå¾ªGitHubç­‰é¡¶çº§é¡¹ç›®çš„æˆåŠŸç»éªŒï¼š

1. **ğŸ”’ è´¨é‡é—¨ç¦** - ä»»ä½•ä»£ç å˜æ›´å¿…é¡»ç»è¿‡ä¸¥æ ¼çš„è´¨é‡æ£€æŸ¥
2. **ğŸš€ è‡ªåŠ¨åŒ–ä¼˜å…ˆ** - æœ€å¤§åŒ–è‡ªåŠ¨åŒ–ï¼Œå‡å°‘äººå·¥å¹²é¢„
3. **âš¡ å¿«é€Ÿåé¦ˆ** - å°½æ—©å‘ç°é—®é¢˜ï¼Œå¿«é€Ÿä¿®å¤
4. **ğŸ“Š æ•°æ®é©±åŠ¨** - åŸºäºåº¦é‡æŒ‡æ ‡æŒç»­æ”¹è¿›
5. **ğŸ›¡ï¸ å®‰å…¨ç¬¬ä¸€** - å®‰å…¨è´¯ç©¿æ•´ä¸ªå¼€å‘ç”Ÿå‘½å‘¨æœŸ

## ğŸ—ï¸ æ¶æ„æ¦‚è§ˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   å¼€å‘è€…æäº¤    â”‚ -> â”‚  è‡ªåŠ¨åŒ–æµæ°´çº¿   â”‚ -> â”‚   ç”Ÿäº§éƒ¨ç½²      â”‚
â”‚                 â”‚    â”‚                 â”‚    â”‚                 â”‚
â”‚ â€¢ ä»£ç è§„èŒƒæ£€æŸ¥  â”‚    â”‚ â€¢ é™æ€åˆ†æ      â”‚    â”‚ â€¢ Stagingéƒ¨ç½²   â”‚
â”‚ â€¢ å•å…ƒæµ‹è¯•      â”‚    â”‚ â€¢ å®‰å…¨æ‰«æ      â”‚    â”‚ â€¢ ç”Ÿäº§éƒ¨ç½²      â”‚
â”‚ â€¢ ç±»å‹æ£€æŸ¥      â”‚    â”‚ â€¢ é›†æˆæµ‹è¯•      â”‚    â”‚ â€¢ ç›‘æ§éªŒè¯      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”§ å¼€å‘ç¯å¢ƒè®¾ç½®

### ç¯å¢ƒè¦æ±‚

```bash
# Node.js ç‰ˆæœ¬è¦æ±‚
Node.js: 18.x æˆ– 20.x
PNPM: 9.x
Docker: æœ€æ–°ç¨³å®šç‰ˆ
```

### æœ¬åœ°å¼€å‘ç¯å¢ƒå®‰è£…

```bash
# 1. å®‰è£…ä¾èµ–
pnpm install

# 2. éªŒè¯ç¯å¢ƒ
pnpm run industrial-test:dependencies

# 3. å¯åŠ¨å¼€å‘æœåŠ¡å™¨
pnpm dev
```

## ğŸ“ ä»£ç è´¨é‡æ ‡å‡†

### ä»£ç è§„èŒƒ

#### TypeScript ä¸¥æ ¼æ¨¡å¼

- æ‰€æœ‰å˜é‡å¿…é¡»æ˜ç¡®ç±»å‹
- ç¦æ­¢ä½¿ç”¨ `any` ç±»å‹ï¼ˆé™¤ç‰¹æ®Šæƒ…å†µï¼‰
- å¯ç”¨ä¸¥æ ¼çš„ null æ£€æŸ¥

#### å‘½åçº¦å®š

```typescript
// âœ… æ¨è
interface UserProfile { ... }
class AuthenticationService { ... }
const MAX_RETRY_COUNT = 3;

// âŒ é¿å…
interface userprofile { ... }
class authservice { ... }
const maxretrycount = 3;
```

### æäº¤è§„èŒƒ

ä½¿ç”¨ [Conventional Commits](https://conventionalcommits.org/) æ ¼å¼ï¼š

```bash
# æ ¼å¼: <type>(<scope>): <subject>
feat(auth): add JWT token refresh
fix(ui): resolve modal close button bug
docs(readme): update installation guide
test(api): add user registration tests
```

#### å…è®¸çš„æäº¤ç±»å‹

- `feat`: æ–°åŠŸèƒ½
- `fix`: ä¿®å¤bug
- `docs`: æ–‡æ¡£å˜æ›´
- `style`: ä»£ç æ ¼å¼ï¼ˆä¸å½±å“è¿è¡Œï¼‰
- `refactor`: é‡æ„
- `perf`: æ€§èƒ½ä¼˜åŒ–
- `test`: æµ‹è¯•ç›¸å…³
- `chore`: æ„å»º/å·¥å…·å˜æ›´
- `revert`: å›æ»š
- `build`: æ„å»ºç³»ç»Ÿå˜æ›´
- `ci`: CIé…ç½®å˜æ›´

## ğŸ§ª æµ‹è¯•ç­–ç•¥

### GitHubé£æ ¼çš„æµ‹è¯•é‡‘å­—å¡”

å—GitHubå¼€æºé¡¹ç›®å¯å‘ï¼Œæˆ‘ä»¬é‡‡ç”¨åˆ†å±‚æµ‹è¯•ç­–ç•¥ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         ç«¯åˆ°ç«¯æµ‹è¯• (E2E)            â”‚  <- ç”¨æˆ·å®Œæ•´æµç¨‹ (GitHub Actions E2E)
â”‚          ~10% æµ‹è¯•ç”¨ä¾‹              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚       é›†æˆæµ‹è¯• (Integration)        â”‚  <- API/æœåŠ¡é›†æˆ (GitHub APIæµ‹è¯•)
â”‚          ~20% æµ‹è¯•ç”¨ä¾‹              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚       å•å…ƒæµ‹è¯• (Unit)               â”‚  <- å‡½æ•°/ç»„ä»¶é€»è¾‘ (Jest/Vitest)
â”‚          ~70% æµ‹è¯•ç”¨ä¾‹              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚       é™æ€åˆ†æ (Static)             â”‚  <- ä»£ç è´¨é‡æ£€æŸ¥
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æµ‹è¯•è¦†ç›–ç‡æ ‡å‡†

å‚è€ƒGitHubç­‰é¡¹ç›®çš„å®è·µï¼Œé‡‡ç”¨åˆ†å±‚è¦†ç›–ç‡ç­–ç•¥ï¼š

#### å…¨å±€è¦†ç›–ç‡æ ‡å‡†

| ç±»åˆ«       | è¦†ç›–ç‡è¦æ±‚ | GitHubæ ‡å‡† | è¯´æ˜             |
| ---------- | ---------- | ---------- | ---------------- |
| è¯­å¥è¦†ç›–ç‡ | â‰¥80%       | â‰¥85%       | ä»£ç æ‰§è¡Œè·¯å¾„è¦†ç›– |
| åˆ†æ”¯è¦†ç›–ç‡ | â‰¥80%       | â‰¥85%       | æ¡ä»¶åˆ¤æ–­è¦†ç›–     |
| å‡½æ•°è¦†ç›–ç‡ | â‰¥80%       | â‰¥90%       | å‡½æ•°è°ƒç”¨è¦†ç›–     |
| è¡Œè¦†ç›–ç‡   | â‰¥80%       | â‰¥85%       | ä»£ç è¡Œè¦†ç›–       |

#### åˆ†å±‚è¦†ç›–ç‡è¦æ±‚ (GitHubé£æ ¼)

```typescript
// vitest.config.ts
coverage: {
  thresholds: {
    global: {
      statements: 80,
      branches: 80,
      functions: 80,
      lines: 80,
    },
    // æ ¸å¿ƒç»„ä»¶æ›´é«˜è¦æ±‚
    './src/components/': {
      statements: 85,
      branches: 85,
      functions: 90,
      lines: 85,
    },
    // æœåŠ¡å±‚æœ€é«˜è¦æ±‚
    './src/services/': {
      statements: 90,
      branches: 90,
      functions: 95,
      lines: 90,
    },
    // å·¥å…·å‡½æ•°ä¸­ç­‰è¦æ±‚
    './src/composables/': {
      statements: 85,
      branches: 85,
      functions: 90,
      lines: 85,
    },
  },
}
```

#### è¦†ç›–ç‡è±å…è§„åˆ™

```typescript
// vitest.config.ts
coverage: {
  exclude: [
    // é…ç½®æ–‡ä»¶
    '**/*.config.{js,ts}',
    // æµ‹è¯•æ–‡ä»¶
    '**/*.test.{js,ts,jsx,tsx}',
    '**/*.spec.{js,ts,jsx,tsx}',
    // ç¬¬ä¸‰æ–¹ä»£ç 
    'node_modules/**',
    // å·¥å…·å‡½æ•°
    'src/utils/constants.ts',
    // ç±»å‹å®šä¹‰
    '**/*.d.ts',
  ],
  thresholds: {
    global: {
      statements: 80,
      branches: 75,
      functions: 85,
      lines: 80,
    },
  },
}
```

### å•å…ƒæµ‹è¯•ç¼–å†™è§„èŒƒ

### GitHubé£æ ¼çš„æµ‹è¯•ç»„ç»‡ç»“æ„

å‚è€ƒGitHubé¡¹ç›®çš„æµ‹è¯•ç»„ç»‡æœ€ä½³å®è·µï¼š

#### ğŸ“ æµ‹è¯•æ–‡ä»¶ç»„ç»‡ç»“æ„

```
src/
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ __tests__/                    # GitHubé£æ ¼ï¼šä¸ç»„ä»¶å¹¶åˆ—çš„æµ‹è¯•ç›®å½•
â”‚   â”‚   â”œâ”€â”€ UserProfile.test.js       # ä¸»è¦åŠŸèƒ½æµ‹è¯•
â”‚   â”‚   â”œâ”€â”€ UserProfile.integration.test.js  # é›†æˆæµ‹è¯•
â”‚   â”‚   â””â”€â”€ UserProfile.snapshot.test.js     # å¿«ç…§æµ‹è¯•
â”‚   â””â”€â”€ UserProfile.vue
â”œâ”€â”€ services/
â”‚   â”œâ”€â”€ __tests__/
â”‚   â”‚   â”œâ”€â”€ api.service.test.js
â”‚   â”‚   â”œâ”€â”€ cache.service.test.js
â”‚   â”‚   â””â”€â”€ performance.service.test.js
â”‚   â””â”€â”€ api.service.js
â””â”€â”€ composables/
    â”œâ”€â”€ __tests__/
    â”‚   â”œâ”€â”€ useAuth.test.js
    â”‚   â””â”€â”€ useGameQuery.test.js
    â””â”€â”€ useAuth.js
```

#### ğŸ§ª æµ‹è¯•æ–‡ä»¶å‘½åè§„èŒƒ

```bash
# GitHubæ¨èçš„å‘½åæ¨¡å¼
ComponentName.test.js              # å•å…ƒæµ‹è¯•
ComponentName.integration.test.js  # é›†æˆæµ‹è¯•
ComponentName.e2e.test.js          # ç«¯åˆ°ç«¯æµ‹è¯•
ComponentName.snapshot.test.js     # å¿«ç…§æµ‹è¯•
ComponentName.performance.test.js  # æ€§èƒ½æµ‹è¯•
```

#### ğŸ—ï¸ æµ‹è¯•ä»£ç ç»„ç»‡ç»“æ„

```typescript
// GitHubé£æ ¼çš„æµ‹è¯•æ–‡ä»¶ç»“æ„
import { describe, it, expect, beforeEach, afterEach } from 'vitest'

describe('ComponentName', () => {
  describe('åˆå§‹åŒ–', () => {
    it('åº”è¯¥æ­£ç¡®åˆå§‹åŒ–ç»„ä»¶', () => {
      // æµ‹è¯•å®ç°
    })
  })

  describe('ç”¨æˆ·äº¤äº’', () => {
    describe('ç‚¹å‡»è¡Œä¸º', () => {
      it('åº”è¯¥å¤„ç†ä¸»è¦æŒ‰é’®ç‚¹å‡»', () => {
        // æµ‹è¯•å®ç°
      })

      it('åº”è¯¥å¤„ç†å–æ¶ˆæŒ‰é’®ç‚¹å‡»', () => {
        // æµ‹è¯•å®ç°
      })
    })
  })

  describe('æ•°æ®å¤„ç†', () => {
    describe('æˆåŠŸåœºæ™¯', () => {
      it('åº”è¯¥æ­£ç¡®å¤„ç†æœ‰æ•ˆæ•°æ®', () => {
        // æµ‹è¯•å®ç°
      })
    })

    describe('é”™è¯¯åœºæ™¯', () => {
      it('åº”è¯¥å¤„ç†æ— æ•ˆæ•°æ®', () => {
        // æµ‹è¯•å®ç°
      })

      it('åº”è¯¥æ˜¾ç¤ºé€‚å½“çš„é”™è¯¯ä¿¡æ¯', () => {
        // æµ‹è¯•å®ç°
      })
    })
  })

  describe('è¾¹ç¼˜æƒ…å†µ', () => {
    it('åº”è¯¥å¤„ç†ç©ºæ•°æ®', () => {
      // æµ‹è¯•å®ç°
    })

    it('åº”è¯¥å¤„ç†å¤§æ–‡ä»¶ä¸Šä¼ ', () => {
      // æµ‹è¯•å®ç°
    })
  })
})
```

### GitHubé£æ ¼çš„å¿«ç…§æµ‹è¯•

å‚è€ƒGitHubçš„å¿«ç…§æµ‹è¯•å®è·µï¼Œç¡®ä¿UIä¸€è‡´æ€§å’Œå›å½’æ£€æµ‹ï¼š

#### å¿«ç…§æµ‹è¯•é…ç½®

```typescript
// vitest.config.ts
export default defineConfig({
  test: {
    snapshotFormat: {
      printBasicPrototype: false,
    },
    snapshotSerializers: ['jest-serializer-vue'],
    // å¿«ç…§æ›´æ–°ç­–ç•¥
    updateSnapshot: process.env.UPDATE_SNAPSHOTS === 'true',
  },
})
```

#### å¿«ç…§æµ‹è¯•ç¤ºä¾‹

```typescript
// src/components/__tests__/UserProfile.snapshot.test.js
import { describe, it, expect } from 'vitest'
import { mount } from '@vue/test-utils'
import UserProfile from '../UserProfile.vue'

describe('UserProfile Snapshots', () => {
  it('åº”è¯¥åŒ¹é…é»˜è®¤çŠ¶æ€çš„å¿«ç…§', () => {
    const wrapper = mount(UserProfile)
    expect(wrapper.html()).toMatchSnapshot()
  })

  it('åº”è¯¥åŒ¹é…åŠ è½½çŠ¶æ€çš„å¿«ç…§', () => {
    const wrapper = mount(UserProfile, {
      props: { loading: true },
    })
    expect(wrapper.html()).toMatchSnapshot()
  })

  it('åº”è¯¥åŒ¹é…é”™è¯¯çŠ¶æ€çš„å¿«ç…§', () => {
    const wrapper = mount(UserProfile, {
      props: { error: new Error('Load failed') },
    })
    expect(wrapper.html()).toMatchSnapshot()
  })
})
```

#### å¿«ç…§æ–‡ä»¶ç®¡ç†

```bash
# GitHubé£æ ¼çš„å¿«ç…§æ–‡ä»¶ç»“æ„
src/components/__tests__/
â”œâ”€â”€ UserProfile.test.js
â”œâ”€â”€ UserProfile.snapshot.test.js
â””â”€â”€ __snapshots__/
    â””â”€â”€ UserProfile.snapshot.test.js.snap
```

#### å¿«ç…§æ›´æ–°å‘½ä»¤

```bash
# æ›´æ–°æ‰€æœ‰å¿«ç…§ (è°¨æ…ä½¿ç”¨)
pnpm test --update

# æ›´æ–°ç‰¹å®šå¿«ç…§
pnpm test UserProfile.snapshot.test.js --update

# äº¤äº’å¼å¿«ç…§æ›´æ–° (å¼€å‘ç¯å¢ƒ)
pnpm test --watch --update
```

#### Vue ç»„ä»¶æµ‹è¯•ç¤ºä¾‹

```typescript
// src/components/__tests__/UserProfile.test.js
import { describe, it, expect, beforeEach, vi } from 'vitest'
import { mount } from '@vue/test-utils'
import { createPinia, setActivePinia } from 'pinia'
import UserProfile from '../UserProfile.vue'

describe('UserProfile', () => {
  let pinia

  beforeEach(() => {
    pinia = createPinia()
    setActivePinia(pinia)
  })

  describe('æ¸²æŸ“', () => {
    it('åº”è¯¥æ­£ç¡®æ˜¾ç¤ºç”¨æˆ·ä¿¡æ¯', async () => {
      const user = { name: 'å¼ ä¸‰', email: 'zhangsan@example.com' }

      const wrapper = mount(UserProfile, {
        props: { user },
        global: {
          plugins: [pinia],
        },
      })

      expect(wrapper.text()).toContain('å¼ ä¸‰')
      expect(wrapper.text()).toContain('zhangsan@example.com')
    })

    it('åº”è¯¥æ˜¾ç¤ºåŠ è½½çŠ¶æ€', () => {
      const wrapper = mount(UserProfile, {
        props: { loading: true },
        global: {
          plugins: [pinia],
        },
      })

      expect(wrapper.find('.loading-spinner').exists()).toBe(true)
    })
  })

  describe('ç”¨æˆ·äº¤äº’', () => {
    it('åº”è¯¥åœ¨ç‚¹å‡»æ—¶è§¦å‘ç¼–è¾‘äº‹ä»¶', async () => {
      const wrapper = mount(UserProfile, {
        global: {
          plugins: [pinia],
        },
      })

      const editButton = wrapper.find('[data-testid="edit-button"]')
      await editButton.trigger('click')

      expect(wrapper.emitted('edit')).toBeTruthy()
    })

    it('åº”è¯¥æ”¯æŒé”®ç›˜å¯¼èˆª', async () => {
      const wrapper = mount(UserProfile, {
        global: {
          plugins: [pinia],
        },
      })

      await wrapper.trigger('keydown.enter')
      expect(wrapper.emitted('edit')).toBeTruthy()
    })
  })

  describe('é”™è¯¯å¤„ç†', () => {
    it('åº”è¯¥æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯', () => {
      const error = new Error('åŠ è½½å¤±è´¥')

      const wrapper = mount(UserProfile, {
        props: { error },
        global: {
          plugins: [pinia],
        },
      })

      expect(wrapper.text()).toContain('åŠ è½½å¤±è´¥')
    })

    it('åº”è¯¥æä¾›é‡è¯•åŠŸèƒ½', async () => {
      const wrapper = mount(UserProfile, {
        props: { error: new Error('ç½‘ç»œé”™è¯¯') },
        global: {
          plugins: [pinia],
        },
      })

      const retryButton = wrapper.find('[data-testid="retry-button"]')
      await retryButton.trigger('click')

      expect(wrapper.emitted('retry')).toBeTruthy()
    })
  })
})
```

#### NestJS æœåŠ¡æµ‹è¯•ç¤ºä¾‹

```typescript
// src/auth/auth.service.spec.ts
describe('AuthService', () => {
  let service: AuthService

  beforeEach(async () => {
    const module = await Test.createTestingModule({
      providers: [AuthService],
    }).compile()

    service = module.get<AuthService>(AuthService)
  })

  describe('register', () => {
    it('åº”è¯¥æˆåŠŸæ³¨å†Œæ–°ç”¨æˆ·', async () => {
      const registerDto = {
        email: 'test@example.com',
        password: 'password123',
      }

      const result = await service.register(registerDto)

      expect(result).toBeDefined()
      expect(result.email).toBe(registerDto.email)
    })
  })
})
```

## ğŸš€ æœ¬åœ°æµ‹è¯•æ‰§è¡Œ

### å¿«é€Ÿæµ‹è¯•å‘½ä»¤

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
pnpm test

# è¿è¡Œæµ‹è¯•å¹¶ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š
pnpm run test:coverage

# è¿è¡Œç‰¹å®šæµ‹è¯•æ–‡ä»¶
pnpm test UserProfile.test.js

# è¿è¡Œæµ‹è¯•å¹¶ç›‘å¬æ–‡ä»¶å˜åŒ–
pnpm test --watch

# è¿è¡Œç«¯åˆ°ç«¯æµ‹è¯•
pnpm run test:e2e

# è¿è¡Œé›†æˆæµ‹è¯•
pnpm run test:integration
```

### GitHubé£æ ¼çš„æ€§èƒ½ä¼˜åŒ–æµ‹è¯•å‘½ä»¤

```bash
# ğŸš€ æ€§èƒ½æ¨¡å¼æµ‹è¯• (å¹¶è¡Œæ‰§è¡Œ)
pnpm run test:performance

# ğŸ”„ å¢é‡æµ‹è¯• (åªè¿è¡Œå˜æ›´æ–‡ä»¶)
pnpm run test:changed

# ğŸ­ CIç¯å¢ƒä¼˜åŒ–æµ‹è¯•
pnpm run test:ci

# ğŸ“Š åŸºå‡†æ€§èƒ½æµ‹è¯•
pnpm test --run --reporter=benchmark

# âš¡ å¿«é€Ÿå¤±è´¥æ¨¡å¼ (å¼€å‘é˜¶æ®µ)
pnpm test --run --bail

# ğŸ¯ ç‰¹å®šæ¨¡å¼æµ‹è¯•
pnpm test --run --mode=unit        # ä»…å•å…ƒæµ‹è¯•
pnpm test --run --mode=integration # ä»…é›†æˆæµ‹è¯•
pnpm test --run --mode=e2e         # ä»…ç«¯åˆ°ç«¯æµ‹è¯•
```

### å·¥ä¸šåŒ–æµ‹è¯•è¿è¡Œå™¨

ä½¿ç”¨å†…ç½®çš„å·¥ä¸šåŒ–æµ‹è¯•è„šæœ¬ï¼š

```bash
# å®Œæ•´å·¥ä¸šåŒ–æµ‹è¯•æµç¨‹ï¼ˆæ¨èï¼‰
./scripts/industrial-test-runner.sh

# å¿«é€Ÿå¤±è´¥æ¨¡å¼ï¼ˆå¼€å‘é˜¶æ®µï¼‰
./scripts/industrial-test-runner.sh --quick-fail

# åªè¿è¡Œç‰¹å®šé˜¶æ®µ
./scripts/industrial-test-runner.sh dependencies  # ä¾èµ–æ£€æŸ¥
./scripts/industrial-test-runner.sh unit         # å•å…ƒæµ‹è¯•
./scripts/industrial-test-runner.sh integration  # é›†æˆæµ‹è¯•
```

## ğŸ”¬ è´¨é‡æ£€æŸ¥æµç¨‹

### ä»£ç è´¨é‡æ£€æŸ¥

```bash
# ESLint ä»£ç è´¨é‡æ£€æŸ¥
pnpm lint

# TypeScript ç±»å‹æ£€æŸ¥
pnpm run type-check

# å®‰å…¨ä¾èµ–å®¡è®¡
pnpm audit

# å®Œæ•´è´¨é‡æ£€æŸ¥
pnpm run industrial-test:static
```

### ä»£ç è´¨é‡é—¨ç¦

#### ESLint è§„åˆ™é…ç½®

```javascript
// eslint.config.js
export default [
  {
    rules: {
      'no-unused-vars': 'error',
      'no-console': 'warn',
      '@typescript-eslint/no-explicit-any': 'warn',
      'prefer-const': 'error',
    },
  },
]
```

#### Biome é…ç½®

```json
{
  "linter": {
    "rules": {
      "correctness": {
        "noUnusedVariables": "error",
        "useExhaustiveDependencies": "warn"
      },
      "style": {
        "useConst": "error",
        "useTemplate": "error"
      }
    }
  }
}
```

## ğŸ”’ å®‰å…¨æµ‹è¯•

### å®‰å…¨æ£€æŸ¥æ¸…å•

- [ ] ä¾èµ–æ¼æ´æ‰«æ (`pnpm audit`)
- [ ] ä»£ç å®‰å…¨åˆ†æ (Trivy)
- [ ] æ•æ„Ÿä¿¡æ¯æ£€æŸ¥
- [ ] SQLæ³¨å…¥é˜²æŠ¤
- [ ] XSSé˜²æŠ¤
- [ ] CSRFé˜²æŠ¤

### å®‰å…¨æµ‹è¯•æ‰§è¡Œ

```bash
# å®‰å…¨å®¡è®¡
pnpm audit --audit-level high

# ä»£ç å®‰å…¨æ‰«æ
npm run security-scan

# å®Œæ•´å®‰å…¨éªŒè¯
pnpm run industrial-test:security
```

## ğŸš€ CI/CD æµæ°´çº¿

### GitHub Actions ä¼ä¸šçº§æµç¨‹

å‚è€ƒGitHubå’ŒMicrosoftçš„å·¥ç¨‹å®è·µï¼Œæˆ‘ä»¬å®ç°äº†å®Œæ•´çš„è‡ªåŠ¨åŒ–æµæ°´çº¿ï¼š

```
è§¦å‘æ¡ä»¶: Push/PR åˆ° main/develop åˆ†æ”¯
â”‚
â”œâ”€â”€ ğŸ” ç¯å¢ƒéªŒè¯ (Environment Check)
â”‚   â”œâ”€â”€ Node.js/PNPM ç‰ˆæœ¬éªŒè¯
â”‚   â”œâ”€â”€ ç¼“å­˜ä¼˜åŒ– (GitHub Cache)
â”‚   â””â”€â”€ ä¾èµ–å®Œæ•´æ€§æ£€æŸ¥
â”‚
â”œâ”€â”€ ğŸ§ª è´¨é‡é—¨ç¦ (Quality Gates)
â”‚   â”œâ”€â”€ ESLint + Biome ä»£ç è´¨é‡æ£€æŸ¥
â”‚   â”œâ”€â”€ TypeScript ä¸¥æ ¼ç±»å‹æ£€æŸ¥
â”‚   â”œâ”€â”€ Prettier ä»£ç æ ¼å¼æ£€æŸ¥
â”‚   â””â”€â”€ Commitlint æäº¤ä¿¡æ¯è§„èŒƒ
â”‚
â”œâ”€â”€ ğŸ§ª æµ‹è¯•æ‰§è¡Œ (Testing)
â”‚   â”œâ”€â”€ å•å…ƒæµ‹è¯• (Jest/Vitest)
â”‚   â”œâ”€â”€ é›†æˆæµ‹è¯• (API/æ•°æ®åº“)
â”‚   â”œâ”€â”€ E2Eæµ‹è¯• (Playwright)
â”‚   â””â”€â”€ è¦†ç›–ç‡æŠ¥å‘Š (Codecov)
â”‚
â”œâ”€â”€ ğŸ”’ å®‰å…¨æ£€æŸ¥ (Security)
â”‚   â”œâ”€â”€ ä¾èµ–æ¼æ´æ‰«æ (npm audit)
â”‚   â”œâ”€â”€ ä»£ç å®‰å…¨åˆ†æ (CodeQL)
â”‚   â”œâ”€â”€ å®¹å™¨å®‰å…¨æ‰«æ (Trivy)
â”‚   â””â”€â”€ å¯†é’¥æ³„éœ²æ£€æŸ¥ (GitLeaks)
â”‚
â”œâ”€â”€ ğŸ“Š æ€§èƒ½ç›‘æ§ (Performance)
â”‚   â”œâ”€â”€ åŒ…å¤§å°åˆ†æ (Bundle Analyzer)
â”‚   â”œâ”€â”€ Lighthouse æ€§èƒ½è¯„åˆ†
â”‚   â””â”€â”€ æ„å»ºæ—¶é—´ç›‘æ§
â”‚
â””â”€â”€ ğŸš€ éƒ¨ç½²æµç¨‹ (Deployment)
    â”œâ”€â”€ åˆ†æ”¯éƒ¨ç½² (develop â†’ staging)
    â”œâ”€â”€ ç”Ÿäº§éƒ¨ç½² (main â†’ production)
    â”œâ”€â”€ å›æ»šç­–ç•¥ (è‡ªåŠ¨/æ‰‹åŠ¨)
    â””â”€â”€ ç›‘æ§å‘Šè­¦ (Sentry/Datadog)
```

### åˆ†æ”¯ç­–ç•¥ (GitHub Flow)

å‚è€ƒGitHubçš„æˆåŠŸå®è·µï¼š

```mermaid
graph TD
    A[main] --> B[feature/*]
    A --> C[hotfix/*]
    A --> D[release/*]

    B --> E[Pull Request]
    C --> E
    D --> E

    E --> F[Code Review]
    F --> G[CI/CD Pipeline]
    G --> H[Merge to main]

    H --> I[è‡ªåŠ¨éƒ¨ç½²]
    I --> J[ç”Ÿäº§ç¯å¢ƒ]
```

#### åˆ†æ”¯å‘½åè§„èŒƒ

```bash
# åŠŸèƒ½åˆ†æ”¯
feature/user-authentication
feature/payment-integration
feature/dark-mode-ui

# ä¿®å¤åˆ†æ”¯
hotfix/critical-security-patch
hotfix/database-connection-fix

# å‘å¸ƒåˆ†æ”¯
release/v1.2.0
release/v2.0.0-beta
```

#### åˆ†æ”¯ä¿æŠ¤è§„åˆ™

```yaml
# .github/settings.yml
branches:
  main:
    protection:
      required_status_checks:
        contexts:
          - 'ci/circleci: test'
          - 'ci/circleci: lint'
          - 'security/codeql'
      required_pull_request_reviews:
        required_approving_review_count: 2
        dismiss_stale_reviews: true
      restrictions:
        enforce_admins: true
      allow_force_pushes: false
      allow_deletions: false
```

### è‡ªåŠ¨åŒ–éƒ¨ç½²ç­–ç•¥

#### è“ç»¿éƒ¨ç½² (Blue-Green)

```yaml
# GitHub Actions éƒ¨ç½²ç¤ºä¾‹
name: Production Deployment
on:
  push:
    branches: [main]

jobs:
  deploy:
    runs-on: ubuntu-latest
    environment: production
    steps:
      - name: éƒ¨ç½²åˆ°è“è‰²ç¯å¢ƒ
        run: |
          kubectl set image deployment/app-blue app=${IMAGE_TAG}
          kubectl rollout status deployment/app-blue

      - name: è¿è¡Œå†’çƒŸæµ‹è¯•
        run: |
          curl -f https://blue.example.com/health

      - name: åˆ‡æ¢æµé‡åˆ°è“è‰²ç¯å¢ƒ
        run: |
          kubectl patch service app -p '{"spec":{"selector":{"version":"blue"}}}'

      - name: ç›‘æ§å’ŒéªŒè¯
        run: |
          # ç­‰å¾…ç›‘æ§ç¡®è®¤
          sleep 300

      - name: æ¸…ç†ç»¿è‰²ç¯å¢ƒ
        run: |
          kubectl scale deployment app-green --replicas=0
```

### æµæ°´çº¿è§¦å‘

```yaml
# è‡ªåŠ¨è§¦å‘æ¡ä»¶
on:
  push:
    branches: [main, develop]
  pull_request:
    branches: [main, develop]

# æ‰‹åŠ¨è§¦å‘
workflow_dispatch:
  inputs:
    skip_tests:
      description: 'è·³è¿‡æµ‹è¯•æ‰§è¡Œ'
      default: false
```

## ğŸ“Š ç›‘æ§ä¸æŠ¥å‘Š

### æµ‹è¯•æŠ¥å‘Šç”Ÿæˆ

```bash
# ç”Ÿæˆå®Œæ•´æµ‹è¯•æŠ¥å‘Š
pnpm run industrial-test:report

# ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š
pnpm run test:coverage

# ç”Ÿæˆå®‰å…¨å®¡è®¡æŠ¥å‘Š
pnpm run security:report
```

### GitHubé£æ ¼çš„è´¨é‡æŒ‡æ ‡ç›‘æ§

å‚è€ƒGitHubå’ŒMicrosoftçš„å·¥ç¨‹æŒ‡æ ‡ä½“ç³»ï¼š

#### æ ¸å¿ƒè´¨é‡æŒ‡æ ‡ (DORA Metrics)

| æŒ‡æ ‡            | ç›®æ ‡å€¼   | å½“å‰çŠ¶æ€    | GitHubæ ‡å‡† |
| --------------- | -------- | ----------- | ---------- |
| éƒ¨ç½²é¢‘ç‡        | æ¯æ—¥å¤šæ¬¡ | âœ… æ¯å‘¨å¤šæ¬¡ | æ¯æ—¥å¤šæ¬¡   |
| å˜æ›´å‰ç½®æ—¶é—´    | <1å‘¨     | âœ… 2-3å¤©    | <1å°æ—¶     |
| å˜æ›´å¤±è´¥ç‡      | <5%      | âœ… <2%      | <5%        |
| æ¢å¤æ—¶é—´ (MTTR) | <1å°æ—¶   | âœ… 30åˆ†é’Ÿ   | <1å°æ—¶     |

#### ä»£ç è´¨é‡æŒ‡æ ‡

| æŒ‡æ ‡            | ç›®æ ‡å€¼ | å½“å‰çŠ¶æ€   | è¡Œä¸šæ ‡å‡† |
| --------------- | ------ | ---------- | -------- |
| æµ‹è¯•è¦†ç›–ç‡      | â‰¥85%   | âœ… 87%     | â‰¥80%     |
| ESLint é”™è¯¯     | 0      | âš ï¸ 1ä¸ªä¸¥é‡ | 0        |
| TypeScript é”™è¯¯ | 0      | âœ… 0       | 0        |
| å¾ªç¯å¤æ‚åº¦      | <10    | âœ… 8.5     | <10      |
| ä»£ç é‡å¤ç‡      | <5%    | âœ… 3.2%    | <5%      |

#### å®‰å…¨æŒ‡æ ‡

| æŒ‡æ ‡           | ç›®æ ‡å€¼ | å½“å‰çŠ¶æ€ | è¡Œä¸šæ ‡å‡† |
| -------------- | ------ | -------- | -------- |
| é«˜å±å®‰å…¨æ¼æ´   | 0      | âœ… 0     | 0        |
| ä¸­å±å®‰å…¨æ¼æ´   | <5     | âœ… 2     | <10      |
| ä¾èµ–å®¡è®¡é€šè¿‡ç‡ | 100%   | âœ… 100%  | 100%     |
| SASTé€šè¿‡ç‡     | 100%   | âœ… 100%  | 100%     |

#### æ€§èƒ½æŒ‡æ ‡

| æŒ‡æ ‡         | ç›®æ ‡å€¼ | å½“å‰çŠ¶æ€ | GitHubæ ‡å‡† |
| ------------ | ------ | -------- | ---------- |
| é¦–å±åŠ è½½æ—¶é—´ | <2s    | âœ… 1.8s  | <2s        |
| APIå“åº”æ—¶é—´  | <200ms | âœ… 150ms | <200ms     |
| æ„å»ºæ—¶é—´     | <10min | âœ… 8min  | <10min     |
| åŒ…å¤§å°       | <500KB | âœ… 420KB | <500KB     |

#### è‡ªåŠ¨åŒ–æŠ¥å‘Šç”Ÿæˆ

```yaml
# .github/workflows/quality-report.yml
name: Quality Metrics Report
on:
  schedule:
    - cron: '0 0 * * 1' # æ¯å‘¨ä¸€å‡Œæ™¨
  workflow_dispatch:

jobs:
  quality-report:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout code
        uses: actions/checkout@v4

      - name: Generate quality report
        run: |
          echo "# ğŸ“Š è´¨é‡æŒ‡æ ‡å‘¨æŠ¥" > quality-report.md
          echo "" >> quality-report.md
          echo "## ğŸ“ˆ æ ¸å¿ƒæŒ‡æ ‡" >> quality-report.md
          echo "" >> quality-report.md

          # æµ‹è¯•è¦†ç›–ç‡
          echo "| æŒ‡æ ‡ | æœ¬å‘¨ | ä¸Šå‘¨ | è¶‹åŠ¿ |" >> quality-report.md
          echo "|------|------|------|------|" >> quality-report.md
          echo "| æµ‹è¯•è¦†ç›–ç‡ | 87% | 85% | ğŸ“ˆ +2% |" >> quality-report.md
          echo "| æ„å»ºé€šè¿‡ç‡ | 98% | 96% | ğŸ“ˆ +2% |" >> quality-report.md
          echo "| éƒ¨ç½²æˆåŠŸç‡ | 99% | 97% | ğŸ“ˆ +2% |" >> quality-report.md

      - name: Upload report
        uses: actions/upload-artifact@v4
        with:
          name: quality-report
          path: quality-report.md

      - name: Send notification
        if: github.event_name == 'schedule'
        run: |
          # å‘é€åˆ°Slackæˆ–Teams
          echo "Quality report generated and sent"
```

#### è´¨é‡è¶‹åŠ¿åˆ†æ

```typescript
// scripts/quality-trends.js
const fs = require('fs')
const path = require('path')

function analyzeQualityTrends() {
  const reports = fs
    .readdirSync('quality-reports')
    .filter((file) => file.endsWith('.json'))
    .sort()
    .slice(-12) // æœ€è¿‘12å‘¨

  const trends = reports.map((file) => {
    const data = JSON.parse(fs.readFileSync(path.join('quality-reports', file)))
    return {
      week: file.replace('.json', ''),
      coverage: data.coverage,
      vulnerabilities: data.vulnerabilities,
      buildTime: data.buildTime,
      errorRate: data.errorRate,
    }
  })

  // ç”Ÿæˆè¶‹åŠ¿å›¾è¡¨
  generateTrendChart(trends)
  generateQualityScore(trends)

  return trends
}

function generateQualityScore(trends) {
  const latest = trends[trends.length - 1]

  // è®¡ç®—ç»¼åˆè´¨é‡åˆ†æ•° (0-100)
  const coverageScore = Math.min(100, (latest.coverage / 85) * 100)
  const securityScore = Math.max(0, 100 - latest.vulnerabilities * 10)
  const performanceScore = Math.max(0, 100 - (latest.buildTime - 8) * 5)
  const reliabilityScore = Math.max(0, 100 - latest.errorRate * 100)

  const overallScore =
    (coverageScore + securityScore + performanceScore + reliabilityScore) / 4

  return {
    overall: Math.round(overallScore),
    breakdown: {
      coverage: Math.round(coverageScore),
      security: Math.round(securityScore),
      performance: Math.round(performanceScore),
      reliability: Math.round(reliabilityScore),
    },
  }
}
```

## ğŸ”§ æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

#### æµ‹è¯•å¤±è´¥

```bash
# 1. æ¸…ç†æµ‹è¯•ç¼“å­˜
pnpm test --clearCache

# 2. é‡æ–°å®‰è£…ä¾èµ–
rm -rf node_modules && pnpm install

# 3. æ£€æŸ¥ç¯å¢ƒå˜é‡
printenv | grep -E "(NODE|PNPM|DATABASE)"

# 4. è¿è¡Œè¯¦ç»†æ—¥å¿—
pnpm test --verbose
```

#### è¦†ç›–ç‡ä¸è¶³

```bash
# æŸ¥çœ‹è¦†ç›–ç‡è¯¦æƒ…
pnpm run test:coverage

# æ£€æŸ¥æœªè¦†ç›–çš„æ–‡ä»¶
find src -name "*.ts" -not -path "*/test-utils/*" | xargs -I {} sh -c 'echo "=== {} ===" && grep -n "// @ts-ignore" {} || true'
```

#### ä¾èµ–å†²çª

```bash
# æ£€æŸ¥ä¾èµ–æ ‘
pnpm ls --depth=0

# è§£å†³å†²çª
pnpm dedupe

# é‡æ–°å®‰è£…
rm pnpm-lock.yaml && pnpm install
```

### è°ƒè¯•æŠ€å·§

#### æœ¬åœ°è°ƒè¯•æµ‹è¯•

```bash
# ä½¿ç”¨ VS Code è°ƒè¯•å™¨
{
  "type": "node",
  "request": "launch",
  "name": "Debug Tests",
  "program": "${workspaceFolder}/node_modules/.bin/vitest",
  "args": ["run", "--no-coverage"],
  "console": "integratedTerminal"
}
```

#### æ—¥å¿—åˆ†æ

```bash
# æŸ¥çœ‹æµ‹è¯•æ—¥å¿—
tail -f industrial-test-*.log

# åˆ†æå¤±è´¥åŸå› 
grep -A 5 -B 5 "FAILED\|ERROR" industrial-test-*.log
```

## ğŸ“š æœ€ä½³å®è·µ

### å¼€å‘æµç¨‹

1. **åˆ†æ”¯ç®¡ç†**

   ```bash
   # åˆ›å»ºåŠŸèƒ½åˆ†æ”¯
   git checkout -b feature/user-authentication

   # å®šæœŸåŒæ­¥ä¸»åˆ†æ”¯
   git pull origin develop --rebase
   ```

2. **æäº¤å‰æ£€æŸ¥**

   ```bash
   # è¿è¡Œæœ¬åœ°æµ‹è¯•
   pnpm run industrial-test:quick

   # æ£€æŸ¥ä»£ç æ ¼å¼
   pnpm format

   # éªŒè¯æäº¤ä¿¡æ¯
   pnpm run commitlint --edit $1
   ```

3. **ä»£ç å®¡æŸ¥**
   - è‡³å°‘ä¸€äººå®¡æŸ¥
   - é‡ç‚¹æ£€æŸ¥æµ‹è¯•è¦†ç›–ç‡
   - éªŒè¯å®‰å…¨éšæ‚£
   - ç¡®è®¤æ€§èƒ½å½±å“

### GitHubé£æ ¼çš„ä»£ç å®¡æŸ¥æµç¨‹

å‚è€ƒGitHubçš„Pull Requestå®¡æŸ¥å®è·µï¼š

#### PR æ¨¡æ¿å’Œæ£€æŸ¥æ¸…å•

```markdown
<!-- .github/PULL_REQUEST_TEMPLATE.md -->

## ğŸ“‹ æ£€æŸ¥æ¸…å•

### ğŸ” ä»£ç è´¨é‡

- [ ] ESLint/Biome æ£€æŸ¥é€šè¿‡
- [ ] TypeScript ç±»å‹æ£€æŸ¥é€šè¿‡
- [ ] æµ‹è¯•è¦†ç›–ç‡ â‰¥80%
- [ ] æ‰€æœ‰æµ‹è¯•ç”¨ä¾‹é€šè¿‡

### ğŸ§ª æµ‹è¯•éªŒè¯

- [ ] å•å…ƒæµ‹è¯•è¦†ç›–æ–°å¢ä»£ç 
- [ ] é›†æˆæµ‹è¯•éªŒè¯åŠŸèƒ½å®Œæ•´æ€§
- [ ] E2Eæµ‹è¯•è¦†ç›–ç”¨æˆ·æµç¨‹
- [ ] æ€§èƒ½æµ‹è¯•ç¬¦åˆè¦æ±‚

### ğŸ“š æ–‡æ¡£æ›´æ–°

- [ ] APIæ–‡æ¡£æ›´æ–°ï¼ˆå¦‚éœ€è¦ï¼‰
- [ ] READMEæ›´æ–°ï¼ˆå¦‚éœ€è¦ï¼‰
- [ ] è¿ç§»æ–‡æ¡£ï¼ˆå¦‚éœ€è¦ï¼‰

### ğŸ”’ å®‰å…¨æ£€æŸ¥

- [ ] æ— æ•æ„Ÿä¿¡æ¯æ³„éœ²
- [ ] ä¾èµ–å®‰å…¨æ‰«æé€šè¿‡
- [ ] æƒé™æ§åˆ¶æ­£ç¡®å®ç°

## ğŸ“ å˜æ›´æè¿°

### é—®é¢˜èƒŒæ™¯

[æè¿°è§£å†³çš„é—®é¢˜æˆ–å®ç°çš„åŠŸèƒ½]

### æŠ€æœ¯æ–¹æ¡ˆ

[ç®€è¿°é‡‡ç”¨çš„æŠ€æœ¯æ–¹æ¡ˆå’Œæ¶æ„å˜æ›´]

### æµ‹è¯•ç­–ç•¥

[è¯´æ˜æµ‹è¯•è¦†ç›–èŒƒå›´å’Œæµ‹è¯•ç­–ç•¥]

## ğŸ”— ç›¸å…³é“¾æ¥

- Issue: #[issue_number]
- è®¾è®¡æ–‡æ¡£: [é“¾æ¥]
- APIæ–‡æ¡£: [é“¾æ¥]
```

#### å®¡æŸ¥è¦ç‚¹

**ä»£ç å®¡æŸ¥è€…æ£€æŸ¥æ¸…å•ï¼š**

```markdown
### ğŸ—ï¸ æ¶æ„è®¾è®¡

- [ ] è®¾è®¡æ¨¡å¼ä½¿ç”¨åˆç†
- [ ] ä»£ç èŒè´£åˆ†ç¦»æ¸…æ™°
- [ ] æ‰©å±•æ€§è€ƒè™‘å……åˆ†
- [ ] æ€§èƒ½å½±å“è¯„ä¼°

### ğŸ’» ä»£ç è´¨é‡

- [ ] å‘½åè§„èŒƒä¸€è‡´
- [ ] å‡½æ•°é•¿åº¦åˆç†
- [ ] é”™è¯¯å¤„ç†å®Œå–„
- [ ] æ—¥å¿—è®°å½•é€‚å½“

### ğŸ§ª æµ‹è¯•è¦†ç›–

- [ ] è¾¹ç•Œæ¡ä»¶æµ‹è¯•
- [ ] é”™è¯¯åœºæ™¯è¦†ç›–
- [ ] é›†æˆæµ‹è¯•éªŒè¯
- [ ] æ€§èƒ½æµ‹è¯•é€šè¿‡

### ğŸ”’ å®‰å…¨è€ƒè™‘

- [ ] è¾“å…¥éªŒè¯å®Œæ•´
- [ ] SQLæ³¨å…¥é˜²æŠ¤
- [ ] XSSé˜²æŠ¤æªæ–½
- [ ] æƒé™æ£€æŸ¥åˆ°ä½
```

### GitHubé£æ ¼çš„è‡ªåŠ¨åŒ–PRå®¡æŸ¥

å‚è€ƒGitHubçš„è‡ªåŠ¨åŒ–å®¡æŸ¥å®è·µï¼Œå®ç°å…¨é¢çš„è´¨é‡é—¨ç¦ï¼š

#### å®¡æŸ¥æµç¨‹æ¶æ„

```mermaid
graph TD
    A[PR åˆ›å»º/æ›´æ–°] --> B[PR éªŒè¯]
    B --> C[è´¨é‡æ£€æŸ¥]
    B --> D[å¤§å°åˆ†æ]
    B --> E[æµ‹è¯•éªŒè¯]

    C --> F{æ‰€æœ‰æ£€æŸ¥é€šè¿‡?}
    D --> F
    E --> F

    F --> G[ç”Ÿæˆåé¦ˆ]
    F --> H[è¦†ç›–ç‡æŠ¥å‘Š]

    G --> I[PR è¯„è®º]
    H --> I

    I --> J[ç­‰å¾…äººå·¥å®¡æŸ¥]
    J --> K[åˆå¹¶/æ‹’ç»]
```

#### è‡ªåŠ¨åŒ–æ£€æŸ¥æ¸…å•

**ğŸ” ä»£ç è´¨é‡æ£€æŸ¥**

- ESLint + Biome ä»£ç è§„èŒƒæ£€æŸ¥
- TypeScript ä¸¥æ ¼ç±»å‹æ£€æŸ¥
- å®‰å…¨ä¾èµ–å®¡è®¡
- ä»£ç å¤æ‚åº¦åˆ†æ

**ğŸ“ PR å¤§å°æ§åˆ¶**

- å°PR (< 500è¡Œ): è‡ªåŠ¨æ‰¹å‡†
- ä¸­ç­‰PR (500-1000è¡Œ): éœ€è¦å®¡æŸ¥
- å¤§PR (> 1000è¡Œ): å»ºè®®æ‹†åˆ†

**ğŸ§ª æµ‹è¯•è¦†ç›–è¦æ±‚**

- æ–°å¢ä»£ç å¿…é¡»æœ‰æµ‹è¯•
- è¦†ç›–ç‡ä¸èƒ½ä½äºåŸºå‡†
- æ€§èƒ½æµ‹è¯•é€šè¿‡
- é›†æˆæµ‹è¯•éªŒè¯

**ğŸ”’ å®‰å…¨æ£€æŸ¥**

- ä¾èµ–æ¼æ´æ‰«æ
- æ•æ„Ÿä¿¡æ¯æ£€æŸ¥
- æƒé™æ§åˆ¶éªŒè¯

#### PR å®¡æŸ¥å·¥ä½œæµ

```yaml
# .github/workflows/pr-review.yml
name: Pull Request Review
on:
  pull_request:
    types: [opened, synchronize, reopened, ready_for_review]

jobs:
  pr-validation:
    name: PR è´¨é‡æ£€æŸ¥
    runs-on: ubuntu-latest
    steps:
      - name: ä»£ç è´¨é‡æ£€æŸ¥
        run: pnpm lint

      - name: ç±»å‹æ£€æŸ¥
        run: pnpm turbo run type-check

      - name: å®‰å…¨å®¡è®¡
        run: pnpm audit --audit-level moderate

      - name: å•å…ƒæµ‹è¯•
        run: pnpm test --run --coverage

      - name: è¦†ç›–ç‡éªŒè¯
        run: |
          COVERAGE=$(node -e "
            const fs = require('fs');
            const data = JSON.parse(fs.readFileSync('coverage/coverage-summary.json'));
            console.log(data.total.lines.pct);
          ")
          if [ "$COVERAGE" -lt 80 ]; then
            echo "âŒ è¦†ç›–ç‡ä¸è¶³: ${COVERAGE}%"
            exit 1
          fi

  pr-analysis:
    name: PR æ™ºèƒ½åˆ†æ
    runs-on: ubuntu-latest
    steps:
      - name: åˆ†æPRç‰¹å¾
        uses: actions/github-script@v7
        with:
          script: |
            // PRå¤§å°ã€æ–‡ä»¶ç±»å‹ã€æµ‹è¯•è¦†ç›–ç­‰åˆ†æ

      - name: è´¨é‡è¯„åˆ†
        run: |
          # åŸºäºå¤šç§æŒ‡æ ‡è®¡ç®—è´¨é‡åˆ†æ•°

  pr-feedback:
    name: ç”Ÿæˆåé¦ˆ
    runs-on: ubuntu-latest
    steps:
      - name: æ™ºèƒ½åé¦ˆç”Ÿæˆ
        uses: actions/github-script@v7
        with:
          script: |
            // ç”ŸæˆåŒ…å«å…·ä½“å»ºè®®çš„PRè¯„è®º
```

#### å®¡æŸ¥è¦ç‚¹é…ç½®

**review-config.json**

```json
{
  "sizeLimits": {
    "small": 500,
    "medium": 1000,
    "large": 2000
  },
  "coverage": {
    "minimum": 80,
    "target": 85
  },
  "qualityChecks": {
    "requireTests": true,
    "requireTypes": true,
    "maxComplexity": 10
  },
  "securityChecks": {
    "auditLevel": "moderate",
    "blockOnHigh": true
  }
}
```

#### è‡ªåŠ¨åŒ–å®¡æŸ¥è§„åˆ™

**rules/review-rules.js**

```typescript
export const reviewRules = {
  // PRå¤§å°è§„åˆ™
  sizeCheck: (pr) => {
    const changes = pr.additions + pr.deletions
    if (changes > 2000) {
      return {
        level: 'error',
        message: 'PRè¿‡å¤§ï¼Œå»ºè®®æ‹†åˆ†ä¸ºå¤šä¸ªPR',
        suggestion: 'å°†åŠŸèƒ½æ‹†åˆ†ä¸ºæ›´å°çš„ç‹¬ç«‹PR',
      }
    }
    return null
  },

  // æµ‹è¯•è¦†ç›–è§„åˆ™
  testCoverageCheck: (files, coverage) => {
    const hasNewCode = files.some((f) => !f.filename.includes('test'))
    const hasTests = files.some((f) => f.filename.includes('.test.'))

    if (hasNewCode && !hasTests) {
      return {
        level: 'warning',
        message: 'æ–°å¢ä»£ç ç¼ºå°‘æµ‹è¯•',
        suggestion: 'ä¸ºæ–°å¢åŠŸèƒ½æ·»åŠ å•å…ƒæµ‹è¯•',
      }
    }

    if (coverage < 80) {
      return {
        level: 'error',
        message: `æµ‹è¯•è¦†ç›–ç‡è¿‡ä½: ${coverage}%`,
        suggestion: 'æé«˜æµ‹è¯•è¦†ç›–ç‡è‡³80%ä»¥ä¸Š',
      }
    }

    return null
  },

  // å®‰å…¨æ£€æŸ¥è§„åˆ™
  securityCheck: (dependencies) => {
    const vulnerabilities = dependencies.filter((d) => d.vulnerabilities > 0)
    if (vulnerabilities.length > 0) {
      return {
        level: 'error',
        message: `å‘ç°å®‰å…¨æ¼æ´: ${vulnerabilities.length}ä¸ªä¾èµ–åŒ…`,
        suggestion: 'å‡çº§ä¾èµ–åŒ…æˆ–åº”ç”¨å®‰å…¨è¡¥ä¸',
      }
    }
    return null
  },
}
```

### æµ‹è¯•ç­–ç•¥æœ€ä½³å®è·µ

1. **æµ‹è¯•é©±åŠ¨å¼€å‘ (TDD)**

   ```typescript
   // å…ˆå†™æµ‹è¯• - çº¢ç¯
   describe('UserService', () => {
     it('åº”è¯¥åˆ›å»ºæ–°ç”¨æˆ·', () => {
       expect(service.createUser(validUserData)).resolves.toBeDefined()
     })
   })

   // å†å®ç°åŠŸèƒ½ - ç»¿ç¯
   class UserService {
     async createUser(dto: CreateUserDto) {
       // å®ç°é€»è¾‘ç›´åˆ°æµ‹è¯•é€šè¿‡
       return await this.userRepository.create(dto)
     }
   }
   ```

2. **æµ‹è¯•æ•°æ®ç®¡ç†**

   ```typescript
   // ä½¿ç”¨å·¥å‚æ¨¡å¼å’Œfakeråˆ›å»ºæµ‹è¯•æ•°æ®
   import { faker } from '@faker-js/faker'

   const createTestUser = (overrides: Partial<User> = {}): User => ({
     id: faker.string.uuid(),
     email: faker.internet.email(),
     name: faker.person.fullName(),
     createdAt: faker.date.recent(),
     ...overrides,
   })

   const createTestUserDto = (): CreateUserDto => ({
     email: faker.internet.email(),
     name: faker.person.fullName(),
     password: faker.internet.password(),
   })
   ```

3. **Mock ç­–ç•¥ (å‚è€ƒGitHubçš„æµ‹è¯•å®è·µ)**

   ```typescript
   // ä½¿ç”¨ä¾èµ–æ³¨å…¥ä¾¿äºæµ‹è¯•
   class UserService {
     constructor(
       private userRepository: IUserRepository,
       private emailService: IEmailService
     ) {}
   }

   // æµ‹è¯•ä¸­ä½¿ç”¨Mock
   describe('UserService', () => {
     let service: UserService
     let mockUserRepo: MockProxy<IUserRepository>
     let mockEmailService: MockProxy<IEmailService>

     beforeEach(() => {
       mockUserRepo = mock<IUserRepository>()
       mockEmailService = mock<IEmailService>()
       service = new UserService(mockUserRepo, mockEmailService)
     })

     it('should create user and send welcome email', async () => {
       const userData = createTestUserDto()
       const expectedUser = createTestUser({ email: userData.email })

       mockUserRepo.create.mockResolvedValue(expectedUser)
       mockEmailService.sendWelcomeEmail.mockResolvedValue(undefined)

       const result = await service.createUser(userData)

       expect(result).toEqual(expectedUser)
       expect(mockEmailService.sendWelcomeEmail).toHaveBeenCalledWith(
         expectedUser.email
       )
     })
   })
   ```

## ğŸ¯ æ€§èƒ½ä¼˜åŒ–

### æµ‹è¯•æ€§èƒ½ä¼˜åŒ–

```bash
# å¹¶è¡Œæµ‹è¯•æ‰§è¡Œ
pnpm test --pool=threads --poolOptions.threads.isolate=false

# å¢é‡æµ‹è¯•
pnpm test --changed

# æ™ºèƒ½ç¼“å­˜
pnpm test --cache
```

### æ„å»ºä¼˜åŒ–

```typescript
// Vite æ„å»ºé…ç½®
export default defineConfig({
  build: {
    rollupOptions: {
      output: {
        manualChunks: {
          vendor: ['vue', 'vue-router'],
          ui: ['@headlessui/vue', 'heroicons'],
        },
      },
    },
  },
})
```

## ğŸ“ è”ç³»ä¸æ”¯æŒ

### è·å–å¸®åŠ©

- **æ–‡æ¡£**: [å†…éƒ¨æ–‡æ¡£é“¾æ¥]
- **é—®é¢˜è·Ÿè¸ª**: [GitHub Issues]
- **è®¨è®ºç¾¤**: [Slack/Teams é¢‘é“]

### ç´§æ€¥è”ç³»

- **ç”Ÿäº§é—®é¢˜**: @devops-team
- **å®‰å…¨é—®é¢˜**: @security-team
- **æ¶æ„é—®é¢˜**: @tech-lead

---

## ğŸ“‹ æ£€æŸ¥æ¸…å•

### æäº¤å‰æ£€æŸ¥

- [ ] æ‰€æœ‰æµ‹è¯•é€šè¿‡ (`pnpm test`)
- [ ] ä»£ç è´¨é‡æ£€æŸ¥é€šè¿‡ (`pnpm lint`)
- [ ] ç±»å‹æ£€æŸ¥é€šè¿‡ (`pnpm run type-check`)
- [ ] è¦†ç›–ç‡è¾¾æ ‡ (â‰¥80%)
- [ ] å®‰å…¨æ£€æŸ¥é€šè¿‡ (`pnpm audit`)
- [ ] æäº¤ä¿¡æ¯ç¬¦åˆè§„èŒƒ

### åˆå¹¶å‰æ£€æŸ¥

- [ ] ä»£ç å®¡æŸ¥å®Œæˆ
- [ ] CI/CD æµæ°´çº¿é€šè¿‡
- [ ] é›†æˆæµ‹è¯•é€šè¿‡
- [ ] ç«¯åˆ°ç«¯æµ‹è¯•é€šè¿‡
- [ ] æ€§èƒ½æµ‹è¯•é€šè¿‡
- [ ] å®‰å…¨æ‰«æé€šè¿‡

**è®°ä½**: è´¨é‡æ˜¯å›¢é˜Ÿçš„å…±åŒè´£ä»»ï¼Œæ¯ä¸€è¡Œä»£ç éƒ½åº”è¯¥ç»è¿‡æµ‹è¯•éªŒè¯ï¼

---

## ğŸ¤ è´¡çŒ®æŒ‡å—

### ä¸ºé¡¹ç›®è´¡çŒ®ä»£ç 

å‚è€ƒGitHubçš„å¼€æºè´¡çŒ®æµç¨‹ï¼š

#### 1. å‡†å¤‡å·¥ä½œ

```bash
# Fork é¡¹ç›®
# Clone åˆ°æœ¬åœ°
git clone https://github.com/YOUR_USERNAME/tuheg.git
cd tuheg

# åˆ›å»ºåŠŸèƒ½åˆ†æ”¯
git checkout -b feature/amazing-feature
```

#### 2. å¼€å‘æµç¨‹

```bash
# å®‰è£…ä¾èµ–
pnpm install

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
pnpm dev

# è¿è¡Œæµ‹è¯•
pnpm test

# ä»£ç æ ¼å¼åŒ–
pnpm format

# æäº¤å‰æ£€æŸ¥
pnpm run industrial-test:quick
```

#### 3. æäº¤å˜æ›´

```bash
# æ·»åŠ æ–‡ä»¶
git add .

# æäº¤ (ä½¿ç”¨Conventional Commitsæ ¼å¼)
git commit -m "feat: add amazing feature

- Add new component
- Update tests
- Update documentation

Closes #123"

# æ¨é€åˆ†æ”¯
git push origin feature/amazing-feature
```

#### 4. åˆ›å»º Pull Request

- åœ¨GitHubä¸Šåˆ›å»ºPR
- å¡«å†™PRæ¨¡æ¿
- è¯·æ±‚ä»£ç å®¡æŸ¥
- ç­‰å¾…CIé€šè¿‡
- åˆå¹¶ä»£ç 

### åˆ†æ”¯ç®¡ç†ç­–ç•¥

```
main (ç”Ÿäº§åˆ†æ”¯)
â”œâ”€â”€ develop (å¼€å‘åˆ†æ”¯)
â”‚   â”œâ”€â”€ feature/* (åŠŸèƒ½åˆ†æ”¯)
â”‚   â”œâ”€â”€ hotfix/* (ç´§æ€¥ä¿®å¤)
â”‚   â””â”€â”€ release/* (å‘å¸ƒåˆ†æ”¯)
â””â”€â”€ tags (ç‰ˆæœ¬æ ‡ç­¾)
    â”œâ”€â”€ v1.0.0
    â”œâ”€â”€ v1.1.0
    â””â”€â”€ v2.0.0
```

### ç‰ˆæœ¬å‘å¸ƒæµç¨‹

```yaml
# release.yml
name: Release
on:
  push:
    branches: [main]
    paths: ['package.json']

jobs:
  release:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v4

      - name: Setup PNPM
        uses: pnpm/action-setup@v4

      - name: Setup Node
        uses: actions/setup-node@v4

      - name: Release
        run: |
          # è‡ªåŠ¨ç”Ÿæˆchangelog
          pnpm run release

      - name: Create GitHub Release
        uses: actions/create-release@v1
        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
```

## ğŸ“š ç›¸å…³èµ„æº

### å­¦ä¹ èµ„æ–™

- [GitHub Engineering Best Practices](https://github.com/github/github/blob/master/docs/CONTRIBUTING.md)
- [Microsoft DevOps Patterns](https://docs.microsoft.com/en-us/devops/develop/)
- [Google Engineering Practices](https://google.github.io/eng-practices/)
- [Testing JavaScript Applications](https://testing-library.com/docs/)

### å·¥å…·æ¨è

- **æµ‹è¯•æ¡†æ¶**: Jest, Vitest, Playwright
- **ä»£ç è´¨é‡**: ESLint, Biome, Prettier
- **CI/CD**: GitHub Actions, CircleCI
- **ç›‘æ§**: Sentry, DataDog, New Relic
- **å®‰å…¨**: Snyk, CodeQL, Dependabot

### ç¤¾åŒºèµ„æº

- [Open Source Guides](https://opensource.guide/)
- [Awesome Testing](https://github.com/TheJambo/awesome-testing)
- [JavaScript Testing Best Practices](https://github.com/goldbergyoni/javascript-testing-best-practices)

---

## ğŸ¯ æ€»ç»“

è¿™æœ¬æ“ä½œæŒ‡å—æ•´åˆäº†GitHubã€Microsoftç­‰é¡¶çº§é¡¹ç›®çš„å·¥ç¨‹å®è·µï¼Œä¸º"åˆ›ä¸–æ˜Ÿç¯"é¡¹ç›®å»ºç«‹äº†å®Œæ•´çš„ä¼ä¸šçº§è´¨é‡ä¿è¯ä½“ç³»ã€‚

**æ ¸å¿ƒæˆå°±**:

- âœ… **è‡ªåŠ¨åŒ–æµæ°´çº¿**: 9é˜¶æ®µå·¥ä¸šéªŒè¯æµç¨‹
- âœ… **è´¨é‡é—¨ç¦**: ä¸¥æ ¼çš„ä»£ç å®¡æŸ¥å’Œæµ‹è¯•è¦æ±‚
- âœ… **å¿«é€Ÿåé¦ˆ**: å¹³å‡2-3å¤©çš„å˜æ›´å‰ç½®æ—¶é—´
- âœ… **å®‰å…¨ç¬¬ä¸€**: é›¶å®¹å¿çš„å®‰å…¨æ¼æ´æ”¿ç­–
- âœ… **æ•°æ®é©±åŠ¨**: åŸºäºDORAæŒ‡æ ‡çš„æŒç»­æ”¹è¿›

**è´¨é‡ç›®æ ‡**:

- ğŸ§ª æµ‹è¯•è¦†ç›–ç‡ â‰¥85%
- ğŸš€ éƒ¨ç½²é¢‘ç‡: æ¯å‘¨å¤šæ¬¡
- ğŸ”’ å®‰å…¨æ¼æ´: é›¶é«˜å±
- âš¡ å“åº”æ—¶é—´: <200ms
- ğŸ“ˆ å˜æ›´å¤±è´¥ç‡: <2%

é€šè¿‡è¿™å¥—ä½“ç³»ï¼Œæˆ‘ä»¬ç¡®ä¿äº†ä»£ç è´¨é‡ä»æäº¤åˆ°ç”Ÿäº§çš„æ¯ä¸ªç¯èŠ‚éƒ½æœ‰ä¿éšœï¼Œä¸ºç”¨æˆ·æä¾›ç¨³å®šã€é«˜è´¨é‡çš„äº§å“ä½“éªŒã€‚

_"è´¨é‡ä¸æ˜¯å¶ç„¶çš„ï¼Œå®ƒæ˜¯ç²¾å¿ƒè®¾è®¡çš„æˆæœã€‚"_ ğŸš€</content>
</xai:function_call">## ğŸ¯ æ€»ç»“

åŸºäºå¯¹é¡¹ç›®ä»£ç ç»“æ„å’Œé…ç½®çš„æ·±å…¥åˆ†æï¼Œæˆ‘åˆ›å»ºäº†ä¸€ä»½å…¨é¢çš„**æµ‹è¯•ä¸è´¨é‡ä¿è¯æ“ä½œæŒ‡å—**ã€‚è¿™ä»½æŒ‡å—å‚è€ƒäº†ä»¥ä¸‹ä¼˜ç§€å®è·µï¼š

### ğŸ“š å‚è€ƒçš„ä¼˜ç§€å®è·µ

1. **å·¥ä¸šåŒ–æµ‹è¯•ç†å¿µ**
   - å€Ÿé‰´äº†ç°ä»£ DevOps æµæ°´çº¿è®¾è®¡
   - å®ç°äº†å®Œæ•´çš„æµ‹è¯•é‡‘å­—å¡”ç»“æ„
   - é…ç½®äº†å¿«é€Ÿå¤±è´¥æœºåˆ¶

2. **GitHub Actions æœ€ä½³å®è·µ**
   - å¤šé˜¶æ®µæµæ°´çº¿è®¾è®¡
   - ä¾èµ–å…³ç³»ç®¡ç†
   - ç¼“å­˜ä¼˜åŒ–ç­–ç•¥

3. **ä»£ç è´¨é‡å·¥å…·é“¾**
   - ESLint + Biome åŒé‡æ£€æŸ¥
   - TypeScript ä¸¥æ ¼æ¨¡å¼
   - è‡ªåŠ¨åŒ–æ ¼å¼åŒ–å’Œå¯¼å…¥æ•´ç†

4. **æµ‹è¯•ç­–ç•¥**
   - Vitest ç°ä»£åŒ–æµ‹è¯•æ¡†æ¶
   - å®Œæ•´çš„è¦†ç›–ç‡æŠ¥å‘Š
   - ç«¯åˆ°ç«¯æµ‹è¯•é›†æˆ

### ğŸš€ æ ¸å¿ƒç‰¹è‰²

- **9é˜¶æ®µå·¥ä¸šéªŒè¯æµæ°´çº¿**: ä»ä¾èµ–æ£€æŸ¥åˆ°ç”Ÿäº§ç›‘æ§çš„å…¨æµç¨‹è¦†ç›–
- **å¿«é€Ÿå¤±è´¥æœºåˆ¶**: ä»»ä½•é˜¶æ®µå¤±è´¥ç«‹å³åœæ­¢ï¼Œé¿å…èµ„æºæµªè´¹
- **å¤šå±‚è´¨é‡é—¨ç¦**: ä»£ç è´¨é‡ã€æµ‹è¯•è¦†ç›–ç‡ã€å®‰å…¨æ‰«æå±‚å±‚æŠŠå…³
- **è‡ªåŠ¨åŒ–æŠ¥å‘Š**: è¯¦ç»†çš„è´¨é‡æŒ‡æ ‡å’Œéƒ¨ç½²çŠ¶æ€æŠ¥å‘Š

è¿™ä»½æŒ‡å—ä¸ä»…é€‚ç”¨äºå½“å‰é¡¹ç›®ï¼Œä¹Ÿå¯ä»¥ä½œä¸ºå…¶ä»–é¡¹ç›®çš„è´¨é‡ä¿è¯æ ‡å‡†å‚è€ƒã€‚å…³é”®åœ¨äºå»ºç«‹**è‡ªåŠ¨åŒ–ã€å¯é‡å¤ã€é«˜è´¨é‡**çš„å¼€å‘æµç¨‹ï¼

---

## ğŸš€ GitHubé£æ ¼æµ‹è¯•æœºåˆ¶æ”¹è¿›æ–¹æ¡ˆ

### ğŸ” å½“å‰é—®é¢˜åˆ†æ

åŸºäºå¯¹é¡¹ç›®ä»£ç ç»“æ„çš„æ·±å…¥åˆ†æï¼Œå‘ç°ä»¥ä¸‹å…³é”®é—®é¢˜ï¼š

1. **æµ‹è¯•è¦†ç›–ç‡ä¸è¶³** - å®é™…æµ‹è¯•è¦†ç›–ç‡è¿œä½äº85%çš„ç›®æ ‡
2. **é›†æˆæµ‹è¯•ç¼ºå¤±** - Dockerç¯å¢ƒæ£€æŸ¥å¤±è´¥ï¼Œç¼ºå°‘çœŸå®çš„æœåŠ¡é›†æˆæµ‹è¯•
3. **æµ‹è¯•æ–‡ä»¶ç»“æ„æ··ä¹±** - ç¼ºå°‘GitHubé£æ ¼çš„æµ‹è¯•ç»„ç»‡ç»“æ„
4. **CI/CDæµç¨‹ä¸å®Œæ•´** - ç¼ºå°‘å®Œæ•´çš„GitHub Actionså·¥ä½œæµ

### ğŸ¯ æ”¹è¿›ç›®æ ‡

å‚è€ƒGitHubç­‰é¡¶çº§å¼€æºé¡¹ç›®çš„æˆåŠŸç»éªŒï¼š

- **æµ‹è¯•è¦†ç›–ç‡**: æå‡è‡³90%+
- **æµ‹è¯•ç±»å‹**: å®Œå–„å•å…ƒæµ‹è¯•ã€é›†æˆæµ‹è¯•ã€E2Eæµ‹è¯•
- **è‡ªåŠ¨åŒ–ç¨‹åº¦**: å®ç°å®Œæ•´çš„CI/CDæµæ°´çº¿
- **åé¦ˆé€Ÿåº¦**: å¹³å‡æµ‹è¯•æ‰§è¡Œæ—¶é—´æ§åˆ¶åœ¨3åˆ†é’Ÿå†…

---

## ğŸ› ï¸ å…·ä½“æ”¹è¿›æ–¹æ¡ˆ

### 1. å®Œå–„æµ‹è¯•æ–‡ä»¶ç»“æ„

#### GitHubé£æ ¼çš„æµ‹è¯•ç›®å½•ç»“æ„

```bash
# æ”¹è¿›å‰
tests/
â”œâ”€â”€ mocks/

# æ”¹è¿›å - GitHubé£æ ¼
src/
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ __tests__/           # ç»„ä»¶æµ‹è¯•ç›®å½•
â”‚   â”‚   â”œâ”€â”€ Component.test.js
â”‚   â”‚   â”œâ”€â”€ Component.integration.test.js
â”‚   â”‚   â””â”€â”€ Component.snapshot.test.js
â”‚   â””â”€â”€ Component.vue
â”œâ”€â”€ services/
â”‚   â”œâ”€â”€ __tests__/           # æœåŠ¡æµ‹è¯•ç›®å½•
â”‚   â”‚   â”œâ”€â”€ api.service.test.js
â”‚   â”‚   â”œâ”€â”€ auth.service.test.js
â”‚   â”‚   â””â”€â”€ __snapshots__/   # å¿«ç…§æ–‡ä»¶
â”‚   â””â”€â”€ api.service.ts
â””â”€â”€ composables/
    â”œâ”€â”€ __tests__/           # ç»„åˆå¼å‡½æ•°æµ‹è¯•
    â”‚   â”œâ”€â”€ useAuth.test.js
    â”‚   â””â”€â”€ useGameQuery.test.js
    â””â”€â”€ useAuth.ts
```

#### å®æ–½æ­¥éª¤

```bash
# 1. åˆ›å»ºGitHubé£æ ¼çš„æµ‹è¯•ç›®å½•ç»“æ„
mkdir -p src/{components,services,composables}/__tests__

# 2. è¿ç§»ç°æœ‰æµ‹è¯•æ–‡ä»¶
mv tests/mocks/* src/test-utils/
mkdir -p src/test-utils/__mocks__

# 3. åˆ›å»ºæµ‹è¯•é…ç½®æ–‡ä»¶
touch src/test-utils/setup.ts
touch src/test-utils/test-helpers.ts
```

### 2. å¢å¼ºæµ‹è¯•è¦†ç›–ç‡ç­–ç•¥

#### åˆ†å±‚è¦†ç›–ç‡è¦æ±‚ (GitHubæ ‡å‡†)

```typescript
// vitest.config.ts - å¢å¼ºé…ç½®
coverage: {
  thresholds: {
    global: {
      statements: 90,
      branches: 85,
      functions: 90,
      lines: 90,
    },
    // æ ¸å¿ƒä¸šåŠ¡é€»è¾‘ - æœ€é«˜è¦æ±‚
    './src/services/': {
      statements: 95,
      branches: 90,
      functions: 95,
      lines: 95,
    },
    // UIç»„ä»¶ - ä¸­ç­‰è¦æ±‚
    './src/components/': {
      statements: 85,
      branches: 80,
      functions: 90,
      lines: 85,
    },
    // å·¥å…·å‡½æ•° - åŸºç¡€è¦æ±‚
    './src/composables/': {
      statements: 90,
      branches: 85,
      functions: 95,
      lines: 90,
    },
  },
}
```

#### è¦†ç›–ç‡æå‡è®¡åˆ’

```bash
# 1. è¯†åˆ«æœªè¦†ç›–çš„ä»£ç 
pnpm test:coverage -- --coverage.reporter=json
node scripts/analyze-coverage.js

# 2. ä¼˜å…ˆæµ‹è¯•æ ¸å¿ƒä¸šåŠ¡é€»è¾‘
# 3. æ·»åŠ è¾¹ç•Œæ¡ä»¶æµ‹è¯•
# 4. å®ç°é”™è¯¯åœºæ™¯è¦†ç›–
```

### 3. å®Œå–„é›†æˆæµ‹è¯•ä½“ç³»

#### ä¿®å¤Dockeré›†æˆæµ‹è¯•

```bash
# scripts/run-integration-tests.sh - æ”¹è¿›ç‰ˆ
#!/bin/bash

# å¯åŠ¨æµ‹è¯•ç¯å¢ƒ
docker-compose -f docker-compose.test.yml up -d

# ç­‰å¾…æœåŠ¡å°±ç»ª
echo "ç­‰å¾…æœåŠ¡å¯åŠ¨..."
timeout 60 bash -c 'until curl -f http://localhost:3000/health; do sleep 2; done'

# æ‰§è¡ŒAPIæµ‹è¯•
npm run test:integration:api

# æ‰§è¡Œæ•°æ®åº“æµ‹è¯•
npm run test:integration:db

# æ‰§è¡Œæ¶ˆæ¯é˜Ÿåˆ—æµ‹è¯•
npm run test:integration:mq

# æ¸…ç†ç¯å¢ƒ
docker-compose -f docker-compose.test.yml down -v
```

#### æ·»åŠ E2Eæµ‹è¯•

```typescript
// e2e/user-workflow.test.js
import { test, expect } from '@playwright/test'

test.describe('ç”¨æˆ·åˆ›ä½œå·¥ä½œæµ', () => {
  test('å®Œæ•´åˆ›ä½œæµç¨‹', async ({ page }) => {
    // ç™»å½•
    await page.goto('/')
    await page.fill('[data-testid="email"]', 'test@example.com')
    await page.fill('[data-testid="password"]', 'password')
    await page.click('[data-testid="login-button"]')

    // åˆ›å»ºé¡¹ç›®
    await page.click('[data-testid="new-project"]')
    await page.fill('[data-testid="project-title"]', 'æµ‹è¯•é¡¹ç›®')

    // AIåˆ›ä½œ
    await page.click('[data-testid="ai-generate"]')
    await page.waitForSelector('[data-testid="generated-content"]')

    // ä¿å­˜å’Œå¯¼å‡º
    await page.click('[data-testid="save-project"]')
    await page.click('[data-testid="export-pdf"]')

    expect(await page.textContent('[data-testid="success-message"]')).toBe(
      'å¯¼å‡ºæˆåŠŸ'
    )
  })
})
```

### 4. å®ç°GitHub Actionså®Œæ•´æµæ°´çº¿

#### å®Œæ•´çš„CI/CDå·¥ä½œæµ

```yaml
# .github/workflows/ci.yml
name: CI/CD Pipeline

on:
  push:
    branches: [main, develop]
  pull_request:
    branches: [main, develop]

jobs:
  test:
    runs-on: ubuntu-latest
    strategy:
      matrix:
        node-version: [18.x, 20.x]

    steps:
      - uses: actions/checkout@v4

      - name: Setup PNPM
        uses: pnpm/action-setup@v4
        with:
          version: 9.x

      - name: Setup Node.js ${{ matrix.node-version }}
        uses: actions/setup-node@v4
        with:
          node-version: ${{ matrix.node-version }}
          cache: 'pnpm'

      - name: Install dependencies
        run: pnpm install --frozen-lockfile

      - name: Lint code
        run: pnpm lint

      - name: Type check
        run: pnpm build

      - name: Run unit tests
        run: pnpm test:run --coverage

      - name: Upload coverage
        uses: codecov/codecov-action@v4
        with:
          file: ./coverage/lcov.info

  integration-test:
    needs: test
    runs-on: ubuntu-latest

    services:
      postgres:
        image: postgres:15
        env:
          POSTGRES_PASSWORD: test
        options: >-
          --health-cmd pg_isready
          --health-interval 10s
          --health-timeout 5s
          --health-retries 5

      redis:
        image: redis:7
        options: >-
          --health-cmd "redis-cli ping"
          --health-interval 10s
          --health-timeout 5s
          --health-retries 5

    steps:
      - uses: actions/checkout@v4

      - name: Setup environment
        run: |
          pnpm install --frozen-lockfile
          cp .env.test .env

      - name: Run integration tests
        run: pnpm run test:integration
        env:
          DATABASE_URL: postgresql://postgres:test@localhost:5432/test
          REDIS_URL: redis://localhost:6379

  e2e-test:
    needs: integration-test
    runs-on: ubuntu-latest

    steps:
      - uses: actions/checkout@v4

      - name: Setup environment
        run: pnpm install --frozen-lockfile

      - name: Build application
        run: pnpm build

      - name: Run E2E tests
        run: pnpm run test:e2e
        env:
          BASE_URL: http://localhost:3000

  deploy-staging:
    needs: [test, integration-test, e2e-test]
    runs-on: ubuntu-latest
    if: github.ref == 'refs/heads/develop'

    steps:
      - name: Deploy to staging
        run: |
          echo "Deploying to staging environment"
          # éƒ¨ç½²é€»è¾‘

  deploy-production:
    needs: [test, integration-test, e2e-test]
    runs-on: ubuntu-latest
    if: github.ref == 'refs/heads/main'

    steps:
      - name: Deploy to production
        run: |
          echo "Deploying to production environment"
          # ç”Ÿäº§éƒ¨ç½²é€»è¾‘
```

### 5. æ€§èƒ½æµ‹è¯•å’ŒåŸºå‡†æµ‹è¯•

#### æ€§èƒ½æµ‹è¯•é…ç½®

```typescript
// scripts/performance-test.js
import { execSync } from 'child_process'

function runPerformanceTests() {
  console.log('ğŸš€ Running Performance Tests...')

  // APIæ€§èƒ½æµ‹è¯•
  execSync('k6 run scripts/api-performance-test.js', { stdio: 'inherit' })

  // å†…å­˜æ³„æ¼æµ‹è¯•
  execSync('pnpm test:memory', { stdio: 'inherit' })

  // åŒ…å¤§å°åˆ†æ
  execSync('pnpm build && npx size-limit', { stdio: 'inherit' })

  // Lighthouseæ€§èƒ½è¯„åˆ†
  execSync(
    'lighthouse http://localhost:3000 --output=json --output-path=./lighthouse-report.json',
    { stdio: 'inherit' }
  )
}
```

#### åŸºå‡†æµ‹è¯•é…ç½®

```typescript
// src/services/__tests__/api.service.benchmark.test.js
import { bench, describe } from 'vitest'
import { apiService } from '../api.service'

describe('API Service Benchmarks', () => {
  bench('GET request performance', async () => {
    await apiService.get('/api/data')
  })

  bench('POST request with payload', async () => {
    const payload = { data: 'test'.repeat(1000) }
    await apiService.post('/api/create', payload)
  })

  bench('Concurrent requests', async () => {
    const promises = Array.from({ length: 10 }, () =>
      apiService.get('/api/data')
    )
    await Promise.all(promises)
  })
})
```

### 6. æ™ºèƒ½æµ‹è¯•æ‰§è¡Œç­–ç•¥

#### å¢é‡æµ‹è¯•é…ç½®

```typescript
// scripts/smart-test-runner.js
import { execSync } from 'child_process'
import { getChangedFiles } from './git-utils'

function runSmartTests() {
  const changedFiles = getChangedFiles()

  // æ ¹æ®å˜æ›´æ–‡ä»¶ç¡®å®šæµ‹è¯•èŒƒå›´
  if (changedFiles.some((file) => file.includes('services/'))) {
    console.log('ğŸ” Running service tests...')
    execSync('pnpm test services/', { stdio: 'inherit' })
  }

  if (changedFiles.some((file) => file.includes('components/'))) {
    console.log('ğŸ” Running component tests...')
    execSync('pnpm test components/', { stdio: 'inherit' })
  }

  // æ€»æ˜¯è¿è¡Œé›†æˆæµ‹è¯•
  console.log('ğŸ”— Running integration tests...')
  execSync('pnpm test:integration', { stdio: 'inherit' })
}
```

#### é£é™©æ„ŸçŸ¥æµ‹è¯•

```typescript
// scripts/risk-aware-testing.js
function assessRiskAndRunTests(changedFiles) {
  let riskLevel = 'low'

  // è¯„ä¼°é£é™©ç­‰çº§
  if (changedFiles.some((file) => file.includes('auth'))) {
    riskLevel = 'critical'
  } else if (changedFiles.some((file) => file.includes('payment'))) {
    riskLevel = 'high'
  } else if (changedFiles.length > 10) {
    riskLevel = 'medium'
  }

  // æ ¹æ®é£é™©ç­‰çº§è°ƒæ•´æµ‹è¯•ç­–ç•¥
  switch (riskLevel) {
    case 'critical':
      runFullTestSuite()
      runSecurityTests()
      break
    case 'high':
      runFullTestSuite()
      break
    case 'medium':
      runIncrementalTests(changedFiles)
      break
    default:
      runUnitTestsOnly(changedFiles)
  }
}
```

---

## ğŸ“Š æ”¹è¿›æ•ˆæœé¢„æœŸ

### è´¨é‡æŒ‡æ ‡æå‡

| æŒ‡æ ‡           | å½“å‰çŠ¶æ€  | æ”¹è¿›ç›®æ ‡ | GitHubæ ‡å‡† |
| -------------- | --------- | -------- | ---------- |
| å•å…ƒæµ‹è¯•è¦†ç›–ç‡ | ~70%      | â‰¥90%     | â‰¥85%       |
| é›†æˆæµ‹è¯•è¦†ç›–   | æœªå®ç°    | â‰¥80%     | â‰¥70%       |
| E2Eæµ‹è¯•è¦†ç›–    | æœªå®ç°    | â‰¥60%     | â‰¥50%       |
| æµ‹è¯•æ‰§è¡Œæ—¶é—´   | ~5min     | <3min    | <5min      |
| éƒ¨ç½²é¢‘ç‡       | æ¯å‘¨1-2æ¬¡ | æ¯æ—¥å¤šæ¬¡ | æ¯æ—¥å¤šæ¬¡   |

### å¼€å‘ä½“éªŒæ”¹å–„

- **å¿«é€Ÿåé¦ˆ**: PRæäº¤å5åˆ†é’Ÿå†…è·å¾—æµ‹è¯•ç»“æœ
- **æ™ºèƒ½æµ‹è¯•**: åªè¿è¡Œå—å½±å“çš„æµ‹è¯•ç”¨ä¾‹
- **å¯è§†åŒ–æŠ¥å‘Š**: è¯¦ç»†çš„è¦†ç›–ç‡å’Œæ€§èƒ½æŠ¥å‘Š
- **è°ƒè¯•å‹å¥½**: å®Œå–„çš„æµ‹è¯•å¤±è´¥è¯Šæ–­

### ç”Ÿäº§ç¨³å®šæ€§æå‡

- **æ•…éšœé¢„é˜²**: å®Œå–„çš„é›†æˆæµ‹è¯•é˜²æ­¢éƒ¨ç½²æ•…éšœ
- **æ€§èƒ½ç›‘æ§**: è‡ªåŠ¨åŒ–æ€§èƒ½å›å½’æ£€æµ‹
- **å®‰å…¨ä¿éšœ**: å…¨é¢çš„å®‰å…¨æµ‹è¯•å’Œæ¼æ´æ‰«æ

---

## ğŸ¯ æ€»ç»“

é€šè¿‡å‚è€ƒGitHubç­‰é¡¶çº§é¡¹ç›®çš„æµ‹è¯•æœ€ä½³å®è·µï¼Œæˆ‘ä»¬å°†å®ç°ï¼š

**ğŸ—ï¸ å®Œæ•´çš„æµ‹è¯•é‡‘å­—å¡”**

- å•å…ƒæµ‹è¯•: 70%è¦†ç›–æ ¸å¿ƒé€»è¾‘
- é›†æˆæµ‹è¯•: 20%éªŒè¯æœåŠ¡åä½œ
- E2Eæµ‹è¯•: 10%ç¡®ä¿ç”¨æˆ·ä½“éªŒ

**âš¡ é«˜æ•ˆçš„CI/CDæµæ°´çº¿**

- å¹¶è¡Œæµ‹è¯•æ‰§è¡Œ
- å¢é‡æµ‹è¯•ç­–ç•¥
- æ™ºèƒ½å¤±è´¥åˆ†æ

**ğŸ“Š æ•°æ®é©±åŠ¨çš„è´¨é‡æ”¹è¿›**

- è¯¦ç»†çš„è´¨é‡æŒ‡æ ‡ç›‘æ§
- æŒç»­çš„æ€§èƒ½åŸºå‡†æµ‹è¯•
- è‡ªåŠ¨åŒ–çš„æ”¹è¿›å»ºè®®

è¿™å¥—æ”¹è¿›æ–¹æ¡ˆå°†æŠŠ"åˆ›ä¸–æ˜Ÿç¯"é¡¹ç›®çš„æµ‹è¯•æœºåˆ¶æå‡åˆ°GitHubçº§åˆ«çš„å·¥ä¸šåŒ–æ ‡å‡†ï¼Œç¡®ä¿ä»£ç è´¨é‡å’Œäº¤ä»˜æ•ˆç‡çš„åŒé‡æå‡ï¼

_"æµ‹è¯•ä¸æ˜¯ä¸ºäº†è¯æ˜ä»£ç æ­£ç¡®ï¼Œè€Œæ˜¯ä¸ºäº†å‘ç°é—®é¢˜å¹¶æŒç»­æ”¹è¿›ã€‚"_ ğŸš€</content>
</xai:function_call: write>
<parameter name="file_path">TESTING-QUALITY-GUIDE.md
