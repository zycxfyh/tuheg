# ğŸš€ åˆ›ä¸–æ˜Ÿç¯æ¼”ç¤ºåº”ç”¨éƒ¨ç½²æŒ‡å—

## ğŸ“‹ æ¦‚è¿°

æœ¬æŒ‡å—å°†å¸®åŠ©æ‚¨å¿«é€Ÿéƒ¨ç½²å’Œä½“éªŒåˆ›ä¸–æ˜Ÿç¯çš„æ¼”ç¤ºåº”ç”¨ã€‚é€šè¿‡è¿™ä¸ªæ¼”ç¤ºï¼Œæ‚¨å¯ä»¥ï¼š

- ğŸ—ï¸ ä½“éªŒå¤šAgentåä½œçš„ä¸–ç•Œæ„å»ºè¿‡ç¨‹
- ğŸ“– æ„Ÿå—AIé©±åŠ¨çš„äº’åŠ¨å™äº‹ç”Ÿæˆ
- ğŸ® å°è¯•ç®€å•çš„æ¸¸æˆäº¤äº’
- ğŸ”§ äº†è§£ç³»ç»Ÿçš„æŠ€æœ¯æ¶æ„

## ğŸ› ï¸ å¿«é€Ÿéƒ¨ç½²é€‰é¡¹

### é€‰é¡¹1ï¼šä¸€é”®Dockeréƒ¨ç½² (æ¨è)

#### ç³»ç»Ÿè¦æ±‚
- Docker >= 20.10
- Docker Compose >= 2.0
- è‡³å°‘4GBå¯ç”¨å†…å­˜
- è‡³å°‘2GBå¯ç”¨ç£ç›˜ç©ºé—´

#### éƒ¨ç½²æ­¥éª¤

1. **å…‹éš†é¡¹ç›®**
   ```bash
   git clone https://github.com/zycxfyh/tuheg.git
   cd tuheg
   ```

2. **å¯åŠ¨æ¼”ç¤ºç¯å¢ƒ**
   ```bash
   # ä½¿ç”¨æ¼”ç¤ºé…ç½®æ–‡ä»¶
   cp docker-compose.demo.yml docker-compose.yml

   # å¯åŠ¨æ‰€æœ‰æœåŠ¡
   docker-compose up -d
   ```

3. **è®¿é—®æ¼”ç¤ºåº”ç”¨**
   ```
   å‰ç«¯åº”ç”¨: http://localhost:3000
   APIæ–‡æ¡£: http://localhost:3000/api/docs
   ç›‘æ§é¢æ¿: http://localhost:8080
   ```

4. **éªŒè¯éƒ¨ç½²**
   ```bash
   # æ£€æŸ¥æœåŠ¡çŠ¶æ€
   docker-compose ps

   # æŸ¥çœ‹æœåŠ¡æ—¥å¿—
   docker-compose logs -f frontend
   ```

#### åœæ­¢æ¼”ç¤º
```bash
docker-compose down
```

### é€‰é¡¹2ï¼šæœ¬åœ°å¼€å‘ç¯å¢ƒéƒ¨ç½²

#### ç³»ç»Ÿè¦æ±‚
- Node.js >= 18.0.0
- pnpm >= 8.0.0
- PostgreSQL >= 15
- Redis >= 7
- RabbitMQ >= 3.12

#### éƒ¨ç½²æ­¥éª¤

1. **ç¯å¢ƒå‡†å¤‡**
   ```bash
   # å®‰è£…ä¾èµ–
   pnpm install

   # å¯åŠ¨åŸºç¡€è®¾æ–½æœåŠ¡
   docker run -d --name postgres -p 5432:5432 \
     -e POSTGRES_PASSWORD=demo123 postgres:15
   docker run -d --name redis -p 6379:6379 redis:7
   docker run -d --name rabbitmq -p 5672:5672 \
     -e RABBITMQ_DEFAULT_USER=demo \
     -e RABBITMQ_DEFAULT_PASS=demo123 rabbitmq:3-management
   ```

2. **é…ç½®ç¯å¢ƒå˜é‡**
   ```bash
   cp .env.example .env
   # ç¼–è¾‘ .env æ–‡ä»¶ï¼Œè®¾ç½®æ•°æ®åº“è¿æ¥ç­‰
   ```

3. **å¯åŠ¨åº”ç”¨**
   ```bash
   # å¯åŠ¨åç«¯æœåŠ¡
   pnpm nx serve backend-gateway

   # å¯åŠ¨AIä»£ç† (æ–°ç»ˆç«¯)
   pnpm nx serve creation-agent
   pnpm nx serve logic-agent
   pnpm nx serve narrative-agent

   # å¯åŠ¨å‰ç«¯ (æ–°ç»ˆç«¯)
   pnpm nx serve frontend
   ```

4. **è®¿é—®åº”ç”¨**
   - å‰ç«¯: http://localhost:5173
   - API: http://localhost:3000

## ğŸ® æ¼”ç¤ºåŠŸèƒ½ä½“éªŒ

### 1. ä¸–ç•Œæ„å»ºæ¼”ç¤º

1. æ‰“å¼€æ¼”ç¤ºåº”ç”¨
2. ç‚¹å‡» "å¼€å§‹æ–°æ¸¸æˆ"
3. è¾“å…¥ä¸–ç•Œæè¿°ï¼š"ä¸€ä¸ªå……æ»¡é­”æ³•çš„å¥‡å¹»å¤§é™†ï¼Œæœ‰å¤è€çš„æ£®æ—å’Œç¥ç§˜çš„åŸå ¡"
4. è§‚å¯ŸCreation Agentå¦‚ä½•æ„å»ºä¸–ç•Œæ¡†æ¶

### 2. è§’è‰²åˆ›å»ºæ¼”ç¤º

1. åœ¨ä¸–ç•Œæ„å»ºå®Œæˆåï¼Œç‚¹å‡» "åˆ›å»ºè§’è‰²"
2. è¾“å…¥è§’è‰²æ¦‚å¿µï¼š"ä¸€ä½å¹´è½»çš„ç²¾çµæ³•å¸ˆï¼Œç²¾é€šè‡ªç„¶é­”æ³•"
3. è§‚å¯Ÿå¤šAgentåä½œçš„è§’è‰²åˆ›å»ºè¿‡ç¨‹

### 3. æ•…äº‹ç”Ÿæˆæ¼”ç¤º

1. é€‰æ‹©ä¸€ä¸ªåœºæ™¯å¼€å§‹å†’é™©
2. è¾“å…¥ä½ çš„è¡ŒåŠ¨ï¼š"æˆ‘å†³å®šè¿›å…¥å¤è€æ£®æ—æ¢ç´¢"
3. è§‚å¯ŸNarrative Agentç”Ÿæˆçš„æ•…äº‹æƒ…èŠ‚

### 4. è§„åˆ™éªŒè¯æ¼”ç¤º

1. å°è¯•ä¸€äº›å¯èƒ½è¿åæ¸¸æˆè§„åˆ™çš„è¡ŒåŠ¨
2. è§‚å¯ŸLogic Agentå¦‚ä½•ç»´æŠ¤æ•…äº‹ä¸€è‡´æ€§

## ğŸ”§ æŠ€æœ¯æ¶æ„æ¦‚è§ˆ

### ç³»ç»Ÿç»„ä»¶
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Frontend      â”‚    â”‚  Backend        â”‚
â”‚   (Vue 3)       â”‚â—„â”€â”€â–ºâ”‚  Gateway        â”‚
â”‚                 â”‚    â”‚  (NestJS)       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                       â”‚
         â–¼                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  AI Agents      â”‚    â”‚   Databases     â”‚
â”‚  â€¢ Creation     â”‚    â”‚   â€¢ PostgreSQL  â”‚
â”‚  â€¢ Logic        â”‚    â”‚   â€¢ Redis       â”‚
â”‚  â€¢ Narrative    â”‚    â”‚                 â”‚
â”‚  â€¢ Gateway      â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
         â”‚                      â–¼
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                          â”‚  Message Queue  â”‚
                          â”‚  (RabbitMQ)     â”‚
                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### AIä»£ç†åä½œæµç¨‹
1. **ç”¨æˆ·è¾“å…¥** â†’ Backend Gateway
2. **ä»»åŠ¡åˆ†å‘** â†’ åˆé€‚çš„AIä»£ç†
3. **ä»£ç†åä½œ** â†’ é€šè¿‡æ¶ˆæ¯é˜Ÿåˆ—é€šä¿¡
4. **ç»“æœæ•´åˆ** â†’ è¿”å›ç»™ç”¨æˆ·

## ğŸ“Š æ€§èƒ½ç›‘æ§

### æ¼”ç¤ºç¯å¢ƒç›‘æ§
- **å“åº”æ—¶é—´**: < 2ç§’ (å…¸å‹äº¤äº’)
- **AIç”Ÿæˆæ—¶é—´**: < 10ç§’ (æ•…äº‹ç”Ÿæˆ)
- **å¹¶å‘ç”¨æˆ·**: æœ€å¤š10ä¸ªåŒæ—¶ç”¨æˆ·
- **å†…å­˜ä½¿ç”¨**: < 2GB

### å…³é”®æŒ‡æ ‡
```bash
# æŸ¥çœ‹åº”ç”¨æ—¥å¿—
docker-compose logs -f

# ç›‘æ§èµ„æºä½¿ç”¨
docker stats

# æ£€æŸ¥APIå¥åº·çŠ¶æ€
curl http://localhost:3000/health
```

## ğŸ› æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

#### 1. Dockerå®¹å™¨æ— æ³•å¯åŠ¨
```bash
# æ£€æŸ¥DockerçŠ¶æ€
docker system info

# æŸ¥çœ‹è¯¦ç»†é”™è¯¯æ—¥å¿—
docker-compose logs

# æ¸…ç†å¹¶é‡å¯
docker-compose down
docker system prune -a
docker-compose up -d
```

#### 2. å‰ç«¯æ— æ³•è®¿é—®
```bash
# æ£€æŸ¥ç«¯å£å ç”¨
netstat -tulpn | grep :3000

# éªŒè¯æœåŠ¡çŠ¶æ€
curl http://localhost:3000/health
```

#### 3. AIå“åº”ç¼“æ…¢
- æ£€æŸ¥ç½‘ç»œè¿æ¥
- éªŒè¯AIæœåŠ¡çŠ¶æ€
- æŸ¥çœ‹ä»£ç†æ—¥å¿—

### è·å–å¸®åŠ©
- ğŸ“– [å®Œæ•´æ–‡æ¡£](../../docs/)
- ğŸ› [æŠ¥å‘Šé—®é¢˜](../../issues)
- ğŸ’¬ [ç¤¾åŒºè®¨è®º](../../discussions)

## ğŸ”„ å‡çº§æ¼”ç¤ºç‰ˆæœ¬

```bash
# åœæ­¢å½“å‰ç‰ˆæœ¬
docker-compose down

# æ‹‰å–æœ€æ–°ä»£ç 
git pull origin main

# é‡å»ºå¹¶å¯åŠ¨
docker-compose build --no-cache
docker-compose up -d
```

## ğŸ“ˆ æ‰©å±•æ¼”ç¤ºç¯å¢ƒ

### æ·»åŠ æ›´å¤šAIä»£ç†
```yaml
# docker-compose.yml
services:
  custom-agent:
    build: ./apps/custom-agent
    environment:
      - AGENT_TYPE=custom
      - AGENT_CAPABILITIES=advanced-analysis
```

### é…ç½®å¤–éƒ¨AIæœåŠ¡
```bash
# è®¾ç½®ç¯å¢ƒå˜é‡
export OPENAI_API_KEY=your_key_here
export ANTHROPIC_API_KEY=your_key_here

# é‡å¯æœåŠ¡
docker-compose restart
```

## ğŸ¯ ä¸‹ä¸€æ­¥

å®Œæˆæ¼”ç¤ºä½“éªŒåï¼Œæ‚¨å¯ä»¥ï¼š

1. **æ·±å…¥å­¦ä¹ **: é˜…è¯»[æ¶æ„æ–‡æ¡£](../../docs/architecture/)
2. **å¼€å§‹è´¡çŒ®**: æŸ¥çœ‹[è´¡çŒ®æŒ‡å—](../../CONTRIBUTING.md)
3. **éƒ¨ç½²ç”Ÿäº§**: å‚è€ƒ[éƒ¨ç½²æŒ‡å—](../../docs/deployment/)
4. **å®šåˆ¶å¼€å‘**: åŸºäº[VCPToolBox SDK](../../packages/vcptoolbox-sdk/)

---

## ğŸ“ æ”¯æŒä¸åé¦ˆ

- ğŸ› å‘ç°é—®é¢˜ï¼Ÿ[æŠ¥å‘ŠBug](../../issues/new?template=bug-report.yml)
- ğŸ’¡ æœ‰å»ºè®®ï¼Ÿ[åŠŸèƒ½è¯·æ±‚](../../issues/new?template=feature-request.yml)
- ğŸ¤– AIé—®é¢˜ï¼Ÿ[AI BugæŠ¥å‘Š](../../issues/new?template=ai-dialogue-bug.yml)
- ğŸ’¬ åŠ å…¥è®¨è®ºï¼š[GitHub Discussions](../../discussions)

**æ„Ÿè°¢æ‚¨ä½“éªŒåˆ›ä¸–æ˜Ÿç¯ï¼** ğŸš€
